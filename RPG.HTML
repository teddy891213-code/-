<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æœƒè€ƒé–±è®€å‹‡è€…ï¼šå…­åˆ°ä¹å¼æŒ‘æˆ°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Noto+Sans+TC:wght@400;700;900&family=Noto+Serif+TC:wght@600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #0f172a;
            color: #38bdf8;
            overflow: hidden;
            margin: 0;
            padding: 0;
            user-select: none;
            width: 100vw;
            height: 100vh;
        }
        h1, h2, .rpg-font {
            font-family: 'ZCOOL KuaiLe', cursive;
        }
        #passage-text {
            font-family: 'Noto Serif TC', serif;
            line-height: 2.2;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }
        .rpg-box {
            background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
        }
        .battle-bg {
            background: linear-gradient(180deg, #020617 0%, #1e293b 100%);
            position: relative;
            z-index: 1;
        }
        .hp-bar {
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* --- MONSTER VISUALS --- */
        .monster-bg-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90vh;
            height: 90vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 0; 
            pointer-events: none;
            opacity: 1; 
            font-size: 38rem; 
            transition: all 0.2s ease;
            filter: drop-shadow(0 0 60px rgba(0,0,0,0.9)) drop-shadow(0 0 20px rgba(255,255,255,0.2)); 
        }

        @keyframes monster-breath {
            0% { transform: translate(-50%, -50%) scale(1); filter: brightness(1) drop-shadow(0 0 30px rgba(255,0,0,0.3)); }
            50% { transform: translate(-50%, -50%) scale(1.05); filter: brightness(1.2) drop-shadow(0 0 60px rgba(255,50,0,0.6)); }
            100% { transform: translate(-50%, -50%) scale(1); filter: brightness(1) drop-shadow(0 0 30px rgba(255,0,0,0.3)); }
        }
        .monster-anim {
            animation: monster-breath 5s ease-in-out infinite;
        }

        /* Fixed Hit Animation: No translate(-50%, -50%) to avoid jumping */
        .monster-hit {
            animation: hitViolent 0.3s cubic-bezier(.36,.07,.19,.97) both;
            filter: brightness(3) sepia(1) hue-rotate(-50deg) saturate(5) drop-shadow(0 0 50px red) !important; 
            color: #ef4444 !important;
        }
        @keyframes hitViolent {
            0% { transform: scale(1); }
            20% { transform: scale(0.9) translate3d(-15px, 15px, 0); }
            40% { transform: scale(0.95) translate3d(15px, -15px, 0); }
            60% { transform: scale(1.1) translate3d(-15px, -15px, 0); }
            80% { transform: scale(0.95) translate3d(15px, 15px, 0); }
            100% { transform: scale(1); }
        }

        /* --- PLAYER DAMAGE EFFECTS --- */
        .shake-screen { animation: shakeScreen 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shakeScreen { 
            10%, 90% { transform: translate3d(-5px, 0, 0); } 
            20%, 80% { transform: translate3d(10px, 0, 0); } 
            30%, 50%, 70% { transform: translate3d(-20px, 0, 0); } 
            40%, 60% { transform: translate3d(20px, 0, 0); } 
        }
        
        .damage-flash {
            position: absolute;
            inset: 0;
            background-color: rgba(220, 38, 38, 0.6);
            z-index: 60;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.1s;
        }

        /* --- ATTACK EFFECTS --- */
        .slash-overlay { position: absolute; top: 50%; left: 50%; width: 0; height: 20px; background: #fff; box-shadow: 0 0 40px #fff, 0 0 80px #00ccff; transform: translate(-50%, -50%) rotate(-45deg); opacity: 0; z-index: 50; pointer-events: none; }
        .slash-active { animation: slashAnim 0.3s ease-out forwards; }
        @keyframes slashAnim { 0% { width: 0; opacity: 1; transform: translate(-50%, -50%) rotate(-45deg) scaleX(0); } 50% { width: 180%; opacity: 1; transform: translate(-50%, -50%) rotate(-45deg) scaleX(1); } 100% { width: 180%; opacity: 0; transform: translate(-50%, -50%) rotate(-45deg) scaleX(1); } }

        .scan-overlay { position: absolute; top: 50%; left: 50%; width: 10px; height: 10px; border-radius: 50%; border: 10px solid #38bdf8; background: rgba(56, 189, 248, 0.2); transform: translate(-50%, -50%); opacity: 0; z-index: 50; pointer-events: none; }
        .scan-active { animation: scanAnim 0.8s ease-out forwards; }
        @keyframes scanAnim { 0% { width: 10px; height: 10px; opacity: 1; border-width: 20px; } 50% { opacity: 0.8; } 100% { width: 250vw; height: 250vw; opacity: 0; border-width: 0px; } }

        .beam-overlay { position: absolute; top: 50%; left: 0; width: 0; height: 150px; background: linear-gradient(90deg, rgba(255,255,255,1), rgba(0,255,255,0.8), rgba(238,130,238,0.5), rgba(0,0,0,0)); transform: translateY(-50%); opacity: 0; z-index: 50; pointer-events: none; filter: blur(8px); mix-blend-mode: screen; }
        .beam-active { animation: beamAnim 0.5s ease-out forwards; }
        @keyframes beamAnim { 0% { width: 0; opacity: 1; left: 0; } 40% { width: 200vw; opacity: 1; left: 0; } 100% { width: 200vw; opacity: 0; left: 200vw; } }

        .burst-overlay { position: absolute; top: 50%; left: 50%; width: 10px; height: 10px; background: radial-gradient(circle, #fff 0%, #fbbf24 40%, transparent 70%); transform: translate(-50%, -50%); opacity: 0; z-index: 55; pointer-events: none; }
        .burst-active { animation: burstAnim 0.8s ease-out forwards; }
        @keyframes burstAnim { 0% { transform: translate(-50%, -50%) scale(1); opacity: 1; } 50% { transform: translate(-50%, -50%) scale(80); opacity: 0.8; } 100% { transform: translate(-50%, -50%) scale(150); opacity: 0; } }

        .shield-overlay { position: absolute; top: 50%; left: 50%; width: 100vw; height: 100vh; background: radial-gradient(circle, transparent 20%, rgba(255, 215, 0, 0.2) 80%); transform: translate(-50%, -50%); opacity: 0; z-index: 55; pointer-events: none; border: 20px solid rgba(255, 215, 0, 0.5); }
        .shield-active { animation: shieldAnim 0.8s ease-out forwards; }
        @keyframes shieldAnim { 0% { opacity: 0; transform: translate(-50%, -50%) scale(1.2); } 50% { opacity: 1; transform: translate(-50%, -50%) scale(1); } 100% { opacity: 0; transform: translate(-50%, -50%) scale(1.1); } }

        /* Damage Numbers */
        .damage-popup { position: absolute; color: #ffeb3b; font-family: 'ZCOOL KuaiLe', cursive; font-size: 8rem; font-weight: bold; text-shadow: 5px 5px 0 #000; pointer-events: none; animation: damageFloat 0.8s ease-out forwards; z-index: 70; }
        
        /* PLAYER DAMAGE POPUP */
        .player-damage-popup { 
            position: absolute; 
            color: #ff2a2a; 
            font-family: 'ZCOOL KuaiLe', cursive; 
            font-size: 5rem; 
            font-weight: bold; 
            text-shadow: 3px 3px 0 #000, 0 0 15px rgba(255,0,0,0.8); 
            pointer-events: none; 
            animation: playerDamageFloat 0.8s ease-out forwards; 
            z-index: 80; 
        }
        @keyframes damageFloat { 0% { opacity: 1; transform: translateY(0) scale(0.5); } 20% { transform: translateY(-20px) scale(1.2); } 100% { opacity: 0; transform: translateY(-150px) scale(1); } }
        @keyframes playerDamageFloat { 0% { opacity: 1; transform: translateY(0) scale(0.5); } 20% { transform: translateY(20px) scale(1.2); } 100% { opacity: 0; transform: translateY(100px) scale(1); } }

        /* Highlights */
        .highlight-target { background-color: rgba(250, 204, 21, 0.7); color: #000; border-bottom: 3px solid #eab308; border-radius: 2px; padding: 2px 4px; font-weight: bold; box-shadow: 0 0 15px rgba(250, 204, 21, 0.6); }
        .highlight-clue { background-color: rgba(56, 189, 248, 0.6); color: #000; border-bottom: 3px solid #0ea5e9; border-radius: 2px; padding: 2px 4px; font-weight: bold; box-shadow: 0 0 15px rgba(56, 189, 248, 0.6); }
        .highlight-option { background-color: rgba(168, 85, 247, 0.5); color: #fff; border: 2px solid #a855f7; border-radius: 4px; padding: 2px 6px; box-shadow: 0 0 15px rgba(168, 85, 247, 0.6); font-weight: bold; }
        .highlight-delete { text-decoration: line-through; text-decoration-color: red; text-decoration-thickness: 4px; color: #64748b; opacity: 0.6; }

        /* UI Elements */
        .option-btn { transition: all 0.1s; }
        .option-btn.selected { border-color: #facc15; background-color: rgba(234, 179, 8, 0.4); box-shadow: 0 0 20px rgba(234, 179, 8, 0.5); transform: scale(1.02); z-index: 10; color: white; }
        .confirm-btn-disabled { opacity: 0.5; cursor: not-allowed; filter: grayscale(1); }
        .confirm-btn-active { animation: pulseBtn 1s infinite; cursor: pointer; }
        @keyframes pulseBtn { 0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); transform: scale(1); } 50% { box-shadow: 0 0 0 15px rgba(220, 38, 38, 0); transform: scale(1.05); } 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); transform: scale(1); } }

        .passage-scroll::-webkit-scrollbar { width: 8px; }
        .passage-scroll::-webkit-scrollbar-track { background: rgba(15, 23, 42, 0.5); }
        .passage-scroll::-webkit-scrollbar-thumb { background: #38bdf8; border-radius: 4px; }
    </style>
</head>
<body>

    <div id="game-container" class="w-full h-full rpg-box relative flex flex-col">
        <!-- Effects Layers -->
        <div id="slash-effect" class="slash-overlay"></div>
        <div id="scan-effect" class="scan-overlay"></div>
        <div id="beam-effect" class="beam-overlay"></div>
        <div id="shield-effect" class="shield-overlay"></div>
        <div id="burst-effect" class="burst-overlay"></div>
        <div id="damage-effect" class="damage-overlay"></div>
        <div id="damage-flash" class="damage-flash"></div>

        <!-- Start Screen -->
        <div id="screen-start" class="absolute inset-0 flex flex-col items-center justify-center space-y-8 z-30 bg-[#0f172a]/95 backdrop-blur-sm">
            <h1 class="text-6xl md:text-8xl font-bold tracking-widest text-center text-sky-400 drop-shadow-[0_0_15px_rgba(56,189,248,0.5)]">æœƒè€ƒé–±è®€å‹‡è€…<br><span class="text-3xl md:text-4xl mt-4 block text-white">ï½ æ±ºæˆ°å…­åˆ°ä¹å¼ ï½</span></h1>
            <p class="text-gray-300 text-center max-w-2xl px-6 text-xl md:text-2xl leading-loose">
                æ©Ÿåˆ¶ä¿®å¾©å®Œç•¢ï¼<br>
                å¾ Lv 1 é–‹å§‹ï¼ŒæŒ‘æˆ°æ›´å¼·çš„é­”ç‹ã€‚<br>
                ç­”éŒ¯æœƒç›´æ¥æ‰£è¡€ï¼Œè«‹è¬¹æ…é¸æ“‡ï¼
            </p>
            <button onclick="startGame()" class="rpg-font px-12 py-4 bg-sky-600 text-white rounded-full text-3xl hover:bg-sky-500 hover:scale-105 transition-all shadow-[0_0_20px_rgba(56,189,248,0.6)]">é–‹å§‹ä¿®ç…‰</button>
        </div>

        <!-- Map Screen -->
        <div id="screen-map" class="hidden absolute inset-0 p-8 flex flex-col z-20 bg-[#0f172a]">
            <h2 class="text-4xl md:text-5xl mb-8 text-center text-sky-300 drop-shadow-lg rpg-font">é¸æ“‡ä¿®ç…‰é—œå¡</h2>
            <div class="flex-grow flex items-center justify-center">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-7xl h-full md:h-auto overflow-y-auto p-4">
                    <button onclick="enterReview(0)" id="btn-0" class="stage-btn h-64 md:h-80 p-6 rounded-2xl border-4 border-sky-600 bg-slate-800/50 hover:bg-sky-900/50 transition flex flex-col items-center justify-center group relative overflow-hidden">
                        <span class="text-6xl mb-4 group-hover:scale-125 transition duration-300">âš”ï¸</span>
                        <span class="text-3xl font-bold rpg-font mb-2 text-white">ç¬¬å…­å¼ï¼šå¤§æ„é¡Œ</span>
                        <div class="mt-2 text-center text-yellow-400 font-bold">éœ€æ±‚ç­‰ç´šï¼šLv 1</div>
                    </button>
                    <button onclick="enterReview(1)" id="btn-1" class="stage-btn h-64 md:h-80 p-6 rounded-2xl border-4 border-slate-700 bg-slate-900/50 flex flex-col items-center justify-center opacity-50 cursor-not-allowed group relative overflow-hidden" disabled>
                        <span class="text-6xl mb-4 text-gray-500 group-hover:scale-110 transition duration-300">ğŸ‘“</span>
                        <span class="text-3xl font-bold rpg-font mb-2 text-gray-400">ç¬¬ä¸ƒå¼ï¼šç´°ç¯€é¡Œ</span>
                        <div class="mt-2 text-center text-red-400 font-bold">éœ€æ±‚ç­‰ç´šï¼šLv 15</div>
                    </button>
                     <button onclick="enterReview(2)" id="btn-2" class="stage-btn h-64 md:h-80 p-6 rounded-2xl border-4 border-slate-700 bg-slate-900/50 flex flex-col items-center justify-center opacity-50 cursor-not-allowed group relative overflow-hidden" disabled>
                        <span class="text-6xl mb-4 text-gray-500 group-hover:scale-110 transition duration-300">ğŸ’</span>
                        <span class="text-3xl font-bold rpg-font mb-2 text-gray-400">ç¬¬å…«å¼ï¼šæ·±é›£å­—è©</span>
                        <div class="mt-2 text-center text-red-400 font-bold">éœ€æ±‚ç­‰ç´šï¼šLv 30</div>
                    </button>
                     <button onclick="enterReview(3)" id="btn-3" class="stage-btn h-64 md:h-80 p-6 rounded-2xl border-4 border-slate-700 bg-slate-900/50 flex flex-col items-center justify-center opacity-50 cursor-not-allowed group relative overflow-hidden" disabled>
                        <span class="text-6xl mb-4 text-gray-500 group-hover:scale-110 transition duration-300">ğŸ›¡ï¸</span>
                        <span class="text-3xl font-bold rpg-font mb-2 text-gray-400">ç¬¬ä¹å¼ï¼šæ–‡é«”æ‹†è§£</span>
                        <div class="mt-2 text-center text-red-400 font-bold">éœ€æ±‚ç­‰ç´šï¼šLv 50</div>
                    </button>
                </div>
            </div>
            <div class="mt-4 text-center text-2xl text-yellow-400 font-mono font-bold drop-shadow-md">å‹‡è€…éšç´šï¼šLV <span id="hero-lv">1</span></div>
        </div>

        <!-- Weapon Review -->
        <div id="screen-review" class="hidden absolute inset-0 p-6 md:p-12 flex flex-col z-30 bg-slate-900/98 backdrop-blur">
            <h2 class="text-4xl md:text-5xl mb-4 text-center text-sky-400 rpg-font drop-shadow-md">ç²å¾—å‚³èªªæ­¦å™¨ï¼</h2>
            <div class="flex-grow flex flex-col items-center justify-center text-center">
                <div class="text-9xl mb-6 animate-bounce" id="weapon-icon">âš”ï¸</div>
                <h3 id="weapon-name" class="text-5xl font-bold text-yellow-400 mb-6">æ­¦å™¨åç¨±</h3>
                <div class="bg-slate-800 p-8 rounded-2xl border-2 border-sky-600 max-w-3xl w-full text-left">
                    <p class="text-2xl text-white mb-4 font-bold">ã€æ­¦å™¨èƒ½åŠ›ã€‘</p>
                    <ul class="space-y-4 text-xl text-gray-300 list-disc pl-6" id="weapon-desc"></ul>
                </div>
            </div>
            <div class="mt-8 flex justify-center">
                <button onclick="startCombat()" class="rpg-font px-12 py-4 bg-red-600 text-white rounded-full text-3xl hover:bg-red-500 transition shadow-[0_0_20px_rgba(220,38,38,0.6)] animate-pulse hover:animate-none transform hover:scale-105">
                    è£å‚™æ­¦å™¨ï¼Œé€²å…¥è¿·å®®ï¼
                </button>
            </div>
        </div>

        <!-- Battle Screen -->
        <div id="screen-battle" class="hidden absolute inset-0 flex flex-col battle-bg p-4 overflow-hidden">
            <div id="monster-bg-container" class="monster-bg-container monster-anim">
                <span id="monster-bg-sprite">ğŸ²</span>
            </div>

            <div class="h-16 flex items-center justify-between px-6 bg-slate-900/90 rounded-2xl mb-2 border border-slate-700 shadow-lg shrink-0 z-10 backdrop-blur-md">
                <div class="flex flex-col w-1/4">
                    <div class="flex items-center gap-2">
                        <span class="text-sky-400 font-bold text-lg">å‹‡è€… HP</span>
                        <span class="text-sm text-gray-400" id="player-hp-text">100/100</span>
                    </div>
                    <div class="w-full bg-gray-800 rounded-full h-3 border border-sky-900 relative overflow-hidden">
                        <div id="player-hp-bar" class="hp-bar h-full bg-gradient-to-r from-sky-600 to-blue-400" style="width: 100%"></div>
                    </div>
                </div>
                <div class="flex-1 flex flex-col items-center mx-4">
                    <div class="flex items-center gap-2">
                        <span id="enemy-name" class="font-bold text-red-400 text-2xl shadow-black drop-shadow-md">æ•µäººé¡å‹</span>
                        <div id="combo-badge" class="hidden bg-yellow-500 text-black font-bold px-2 py-0.5 rounded text-sm animate-bounce">COMBO!</div>
                    </div>
                    <div class="w-full max-w-lg bg-gray-800 rounded-full h-3 border border-red-900 relative overflow-hidden shadow-inner mt-1">
                        <div id="enemy-hp-bar" class="hp-bar h-full bg-gradient-to-r from-red-600 to-red-400" style="width: 100%"></div>
                    </div>
                </div>
                <div class="w-1/4 text-right">
                    <div class="text-xl font-mono text-yellow-500 font-bold">
                        Stage <span id="current-stage-num">1</span>-<span id="current-q-num">1</span>
                    </div>
                </div>
            </div>

            <div class="flex-1 flex flex-row gap-4 overflow-hidden relative z-10 mb-2">
                <div class="w-[70%] bg-slate-900/85 rounded-2xl p-6 overflow-y-auto passage-scroll border border-sky-700/30 relative shadow-inner backdrop-blur-sm">
                    <span class="absolute top-4 right-4 text-sm bg-sky-900/80 px-3 py-1 rounded-full text-sky-200 border border-sky-700/50">é–±è®€æ–‡æœ¬</span>
                    <div id="passage-text" class="text-2xl md:text-3xl text-gray-100 leading-loose font-serif tracking-wide transition-all duration-500"></div>
                </div>

                <div class="w-[30%] bg-slate-800/90 rounded-2xl p-4 flex flex-col border-2 border-yellow-600/50 shadow-2xl relative backdrop-blur-md">
                    <div class="text-center mb-4 border-b border-gray-600 pb-2">
                        <div class="text-5xl mb-2 animate-pulse" id="guide-weapon-icon">ğŸ‘“</div>
                        <div class="text-yellow-400 font-bold text-xl" id="guide-weapon-name">æ­¦å™¨</div>
                    </div>
                    <div class="flex-1 overflow-y-auto">
                        <div id="guide-step-box" class="bg-slate-700 p-3 rounded-lg border-l-4 border-sky-500 mb-3">
                            <p class="text-sky-300 font-bold text-lg mb-1">Step <span id="guide-step-idx">1</span></p>
                            <p class="text-white text-lg leading-relaxed" id="guide-text">åˆ†æä¸­...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="h-1/3 min-h-[220px] bg-slate-900/95 rounded-t-2xl p-4 flex flex-col border-t-4 border-sky-600 shadow-[0_-10px_30px_rgba(0,0,0,0.8)] relative z-20">
                <div class="flex justify-center w-full mb-3 shrink-0">
                    <div id="question-text" class="text-xl font-bold text-white bg-slate-800/80 px-6 py-2 rounded-full border border-slate-600">
                        é¡Œç›®è¼‰å…¥ä¸­...
                    </div>
                </div>
                <div class="flex-1 flex flex-col md:flex-row gap-4">
                    <div id="options-grid" class="flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 overflow-y-auto content-center"></div>
                    <div class="w-full md:w-48 flex items-center justify-center shrink-0">
                        <button id="confirm-btn" onclick="executeAttack()" class="confirm-btn-disabled w-full h-full max-h-24 bg-red-600 text-white font-bold text-2xl rounded-xl shadow-lg border-4 border-red-800 transition-all transform active:scale-95 flex items-center justify-center gap-2" disabled>
                            <span class="text-3xl">âš”ï¸</span>
                            <span>ç™¼å‹•<br>æ”»æ“Š</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="screen-result" class="hidden absolute inset-0 flex flex-col items-center justify-center bg-black/95 z-50 p-8">
            <div id="result-icon" class="text-9xl mb-6 animate-bounce">ğŸ†</div>
            <h2 id="result-title" class="text-6xl font-bold mb-4 text-yellow-400 rpg-font">é—œå¡æ”»ç•¥æˆåŠŸï¼</h2>
            <p id="result-desc" class="text-2xl text-gray-300 text-center mb-10">ç­‰ç´šæå‡ï¼ä½ å·²ç¶“æº–å‚™å¥½æŒ‘æˆ°ä¸‹ä¸€é—œäº†ï¼</p>
            <button onclick="backToMap()" class="rpg-font px-12 py-4 bg-sky-600 rounded-full text-white text-3xl hover:bg-sky-500 shadow-lg">è¿”å›åœ°åœ–</button>
        </div>

        <div id="screen-gameover" class="hidden absolute inset-0 flex flex-col items-center justify-center bg-red-950/95 z-50 p-8">
            <div class="text-9xl mb-6 animate-pulse">ğŸ’€</div>
            <h2 class="text-6xl font-bold mb-4 text-red-500 rpg-font">ä¿®ç…‰å¤±æ•—...</h2>
            <p class="text-2xl text-gray-300 text-center mb-10">å‹‡è€…å€’ä¸‹äº†ï¼Œè«‹é‡æ–°æŒ‘æˆ°ã€‚</p>
            <button onclick="retryStage()" class="rpg-font px-12 py-4 bg-gray-600 rounded-full text-white text-3xl hover:bg-gray-500 shadow-lg border-2 border-gray-400">é‡æ–°æŒ‘æˆ°</button>
        </div>
        <div id="flash-msg" class="hidden absolute top-1/4 left-1/2 -translate-x-1/2 text-center pointer-events-none z-50">
            <h1 class="text-6xl md:text-8xl font-black text-white italic drop-shadow-[0_0_10px_rgba(0,0,0,1)] text-stroke" style="-webkit-text-stroke: 2px black;" id="flash-text">SLASH!</h1>
        </div>
    </div>

    <script>
        const gameData = { heroLv: 1, unlockedStages: 0, currentStageIdx: 0, currentQIdx: 0, stepIdx: 0, enemyHp: 100, maxHp: 100, playerHp: 100, playerMaxHp: 100, selectedOption: null };

        const stages = [
            {
                name: "ç¬¬å…­å¼ï¼šå¤§æ„é¡Œ",
                levelReq: 1,
                weapon: { name: "å…«äºŒæ³•å‰‡ç¥åŠ", icon: "âš”ï¸", desc: "ã€èƒ½åŠ›ã€‘æ‰¾é ­æ‰¾å°¾ï¼Œæ–¬æ–·å†—è¨€ã€‚<li><strong>èµ·æ‰‹ï¼š</strong>åˆ¤æ–·æ–‡é«”èˆ‡çµæ§‹ã€‚</li><li><strong>é€£æ“Šï¼š</strong>é–å®šé¦–å°¾é—œéµå¥ã€‚</li>" },
                enemies: [ { name: "è«–è­‰å¹½éˆ", sprite: "ğŸ‘»", hp: 300, type: "mob" }, { name: "çµæ§‹å·¨äºº", sprite: "ğŸ—¿", hp: 300, type: "mob" }, { name: "ä¸»æ—¨é­”é¾", sprite: "ğŸ²", hp: 500, type: "boss" } ],
                questions: [
                    {
                        passage: "æ¼¢å¨œÂ·é„‚è˜­æå‡ºçš„ã€Œå¹³åº¸ä¹‹æƒ¡ã€ï¼Œä¸¦éæŒ‡æ¶‰ç½ªçŠ¯æœ¬èº«æ¥µç«¯é‚ªæƒ¡ï¼Œè€Œæ˜¯æŒ‡å¸¸äººæ”¾æ£„æ€è€ƒã€ç›²ç›®æœå¾æ¬Šå¨æ‰€é€ æˆçš„å·¨å¤§ç½é›£ã€‚ç´ç²¹è»å®˜è‰¾å¸Œæ›¼ä¸¦éç”Ÿæ€§æ®˜æš´ï¼Œä»–åªæ˜¯å°‡è‡ªå·±è¦–ç‚ºé€™éƒ¨æ®ºäººæ©Ÿå™¨ä¸­çš„ä¸€é¡†èºçµ²é‡˜ï¼Œç›¡å¿ è·å®ˆåœ°åŸ·è¡Œä¸Šç´šå‘½ä»¤ã€‚ç„¶è€Œï¼Œæ­£æ˜¯é€™ç¨®ã€Œä¸æ€è€ƒã€çš„å¹³åº¸ï¼Œæ§‹æˆäº†äººé¡æ­·å²ä¸Šæœ€é§­äººçš„ç½ªæƒ¡ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘æœ¬æ–‡æ‰€è¬‚ã€Œå¹³åº¸ä¹‹æƒ¡ã€çš„æ„æ¶µï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ<br>(A) ç½ªå¤§æƒ¡æ¥µçš„æˆ°çŠ¯<br>(B) æ”¾æ£„æ€è€ƒè€Œç›²å¾çš„å¸¸äºº<br>(C) ç”Ÿæ€§æ®˜æš´çš„è»å®˜</div>",
                        steps: [
                            { q: "é€™æ˜¯é—œæ–¼ã€Œå¹³åº¸ä¹‹æƒ¡ã€çš„è­°è«–æ–‡ï¼Œèµ·æ‰‹å¼è©²æ‰¾ä»€éº¼ï¼Ÿ", opts: ["é–‹é ­çš„ã€Œå®šç¾©ã€èˆ‡çµå°¾çš„ã€Œçµè«–ã€", "ä¸­é–“æå¯«ç´ç²¹è»å®˜çš„ç´°ç¯€", "è¨ˆç®—è‰¾å¸Œæ›¼æ®ºäº†å¤šå°‘äºº"], ans: 0, damage: 100, guide: "åˆ¤æ–·å…«äºŒæ³•å‰‡æ‡‰ç”¨é»...", feedback: "çµæ§‹é–å®šï¼" },
                            { q: "è«‹æ‰¾å‡ºä½œè€…å°ã€Œå¹³åº¸ä¹‹æƒ¡ã€çš„æœ€çµ‚çµè«–ï¼ˆå°¾å·´ï¼‰ï¼š", opts: ["è‰¾å¸Œæ›¼ä¸¦éç”Ÿæ€§æ®˜æš´", "ä»–ç›¡å¿ è·å®ˆåŸ·è¡Œå‘½ä»¤", "ã€Œä¸æ€è€ƒã€çš„å¹³åº¸æ§‹æˆäº†æœ€é§­äººçš„ç½ªæƒ¡"], ans: 2, damage: 100, guide: "æ®åŠæ–¬å‘çµè«–ï¼", highlight: "æ­£æ˜¯é€™ç¨®ã€Œä¸æ€è€ƒã€çš„å¹³åº¸ï¼Œæ§‹æˆäº†äººé¡æ­·å²ä¸Šæœ€é§­äººçš„ç½ªæƒ¡ã€‚", feedback: "æ ¸å¿ƒè«–é»æš´éœ²ï¼" },
                            { q: "æ ¹æ“šé«˜äº®å¥ï¼Œæœ¬æ–‡ä¸»æ—¨ç‚ºä½•ï¼Ÿ", opts: ["(A) ç½ªå¤§æƒ¡æ¥µçš„æˆ°çŠ¯", "(B) æ”¾æ£„æ€è€ƒè€Œç›²å¾çš„å¸¸äºº", "(C) ç”Ÿæ€§æ®˜æš´çš„è»å®˜"], ans: 1, damage: 100, guide: "çµ¦äºˆæœ€å¾Œä¸€æ“Šï¼", feedback: "æ–¬æ–·è¿·æ€ï¼" }
                        ]
                    },
                    { passage: "æ©Ÿæœƒæˆæœ¬æ˜¯ç¶“æ¿Ÿå­¸åŸºçŸ³ã€‚ç•¶ä½ é¸æ“‡ Aï¼Œæ”¾æ£„çš„ B ä¹‹ä¸­åƒ¹å€¼æœ€é«˜è€…ï¼Œå°±æ˜¯ä½ çš„æ©Ÿæœƒæˆæœ¬ã€‚ä¾‹å¦‚ä½ èŠ± 1 å°æ™‚æ»‘æ‰‹æ©Ÿï¼Œæ”¾æ£„äº†æ‰“å·¥è³º 160 å…ƒæˆ–ç¡è¦ºè£œçœ ã€‚è‹¥ä½ èªç‚ºç¡è¦ºåƒ¹å€¼æœ€é«˜ï¼Œé‚£æ»‘æ‰‹æ©Ÿçš„æ©Ÿæœƒæˆæœ¬å°±æ˜¯ã€Œç¡è¦ºçš„åƒ¹å€¼ã€ã€‚äº†è§£æ­¤æ¦‚å¿µï¼Œèƒ½åŠ©æˆ‘å€‘åšå‡ºæ›´ä½³æ±ºç­–ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘ä½œè€…æ’°å¯«æœ¬æ–‡çš„ä¸»è¦ç›®çš„ç‚ºä½•ï¼Ÿ<br>(A) æ•™å°è¨ˆç®—è–ªè³‡<br>(B) èªªæ˜æ©Ÿæœƒæˆæœ¬ä»¥å„ªåŒ–æ±ºç­–<br>(C) å‹¸å°ä¸è¦æ»‘æ‰‹æ©Ÿ</div>", steps: [{q:"é€™æ˜¯ä¸€ç¯‡èªªæ˜æ–‡ï¼Œä¸»æ—¨é€šå¸¸è—åœ¨å“ªï¼Ÿ", opts:["ä¸­é–“çš„èˆ‰ä¾‹èªªæ˜", "ç¬¬ä¸€å¥çš„å®šç¾©æˆ–æœ€å¾Œä¸€å¥çš„çµè«–", "éš¨æ©Ÿåˆ†ä½ˆ"], ans:1, damage:100, guide:"åˆ¤æ–·ä½ç½®...", feedback:"é–å®šé¦–å°¾ï¼"}, {q:"è«‹æ‰¾å‡ºæœ¬æ–‡çš„ã€Œå¯«ä½œç›®çš„ã€ï¼ˆçµè«–ï¼‰ï¼š", opts:["æ©Ÿæœƒæˆæœ¬æ˜¯ç¶“æ¿Ÿå­¸åŸºçŸ³", "ä¾‹å¦‚ä½ èŠ± 1 å°æ™‚æ»‘æ‰‹æ©Ÿ", "äº†è§£æ­¤æ¦‚å¿µï¼Œèƒ½åŠ©æˆ‘å€‘åšå‡ºæ›´ä½³æ±ºç­–"], ans:2, damage:100, guide:"é–å®šå°¾å·´ï¼", highlight:"äº†è§£æ­¤æ¦‚å¿µï¼Œèƒ½åŠ©æˆ‘å€‘åšå‡ºæ›´ä½³æ±ºç­–ã€‚", feedback:"ç›®çš„æ˜ç¢ºï¼"}, {q:"ä½œè€…å¯«é€™æ®µæ–‡å­—çš„æ ¸å¿ƒç”¨æ„æ˜¯ï¼Ÿ", opts:["(A) æ•™å°è¨ˆç®—è–ªè³‡", "(B) èªªæ˜æ©Ÿæœƒæˆæœ¬ä»¥å„ªåŒ–æ±ºç­–", "(C) å‹¸å°ä¸è¦æ»‘æ‰‹æ©Ÿ"], ans:1, damage:100, guide:"çµ‚çµï¼", feedback:"ç†è§£æ­£ç¢ºï¼"}] },
                    { passage: "åŒ—æ¥µç†Šæ˜¯åŒ—æ¥µåœˆçš„é ‚ç´šæ é£Ÿè€…ï¼Œæ“æœ‰æ¥µåšçš„è„‚è‚ªå±¤ä»¥æŠµç¦¦åš´å¯’ã€‚ç‰ å€‘ä¸»è¦åœ¨æµ·å†°ä¸Šçµæ•æµ·è±¹ç¶­ç”Ÿã€‚éš¨è‘—å…¨çƒæš–åŒ–åŠ åŠ‡ï¼ŒåŒ—æ¥µæµ·å†°èåŒ–çš„é€Ÿåº¦è¶Šä¾†è¶Šå¿«ï¼Œé€™ä½¿å¾—åŒ—æ¥µç†Šçš„ç‹©çµå ´åŸŸå¤§å¹…ç¸®æ¸›ã€‚ç‚ºäº†å°‹æ‰¾é£Ÿç‰©ï¼Œç‰ å€‘è¢«è¿«æ¸¸å¾—æ›´é ï¼Œç”šè‡³é€²å…¥äººé¡å±…ä½åœ°ã€‚é€™ç¨®ç¾è±¡é¡¯ç¤ºï¼Œæ°£å€™è®Šé·å·²å°åŒ—æ¥µç†Šçš„ç”Ÿå­˜é€ æˆäº†åš´é‡å¨è„…ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘é€™æ®µæ–‡å­—çš„ä¸»æ—¨æ˜¯ï¼Ÿ<br>(A) åŒ—æ¥µç†Šçš„èº«é«”æ§‹é€ <br>(B) æ°£å€™è®Šé·å¨è„…åŒ—æ¥µç†Šç”Ÿå­˜<br>(C) äººé¡æ‡‰é¤µé£ŸåŒ—æ¥µç†Š</div>", steps: [{q:"ã€é­”ç‹æˆ°ã€‘é¢å°ã€Œç¾è±¡-è§£é‡‹-çµè«–ã€çµæ§‹ï¼Œå…«äºŒç¥åŠæ–¬å‘ä½•è™•ï¼Ÿ", opts:["ä¸­é–“çš„çµæ•éç¨‹", "é–‹é ­çš„å‹•ç‰©ä»‹ç´¹", "çµå°¾çš„ç¾è±¡ç¸½çµ"], ans:2, damage:100, guide:"åˆ†æçµæ§‹...", feedback:"è­˜ç ´çµæ§‹ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘æ‰¾å‡ºå°è‡´åŒ—æ¥µç†Šå¨è„…çš„ã€Œæ ¹æœ¬åŸå› ã€é—œéµå­—ï¼š", opts:["è„‚è‚ªå±¤", "å…¨çƒæš–åŒ–", "æµ·è±¹"], ans:1, damage:100, guide:"é–å®šåŸå› ...", highlight:"å…¨çƒæš–åŒ–", feedback:"å…ƒå…‡æ˜¯æš–åŒ–ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘æ‰¾å‡ºæè¿°ã€Œå¾Œæœã€çš„é—œéµå¥ï¼š", opts:["ä¸»è¦åœ¨æµ·å†°ä¸Šçµæ•æµ·è±¹", "è¢«è¿«æ¸¸å¾—æ›´é ", "æ“æœ‰æ¥µåšçš„è„‚è‚ªå±¤"], ans:1, damage:100, guide:"æ¨å°å¾Œæœ...", highlight:"è¢«è¿«æ¸¸å¾—æ›´é ", feedback:"ç”Ÿå­˜å›°å¢ƒï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘æ‰¾å‡ºå…¨ç¯‡çµè«–å¥ï¼š", opts:["åŒ—æ¥µç†Šæ˜¯é ‚ç´šæ é£Ÿè€…", "æ°£å€™è®Šé·å·²å°åŒ—æ¥µç†Šçš„ç”Ÿå­˜é€ æˆäº†åš´é‡å¨è„…", "é€²å…¥äººé¡å±…ä½åœ°"], ans:1, damage:100, guide:"é–å®šçµè«–ï¼", highlight:"æ°£å€™è®Šé·å·²å°åŒ—æ¥µç†Šçš„ç”Ÿå­˜é€ æˆäº†åš´é‡å¨è„…ã€‚", feedback:"æ ¸å¿ƒæš´éœ²ï¼"}, {q:"ã€å¥§ç¾©ã€‘é€™æ®µæ–‡å­—ä¸»è¦åœ¨èªªæ˜ï¼Ÿ", opts:["(A) åŒ—æ¥µç†Šçš„èº«é«”æ§‹é€ ", "(B) æ°£å€™è®Šé·å¨è„…åŒ—æ¥µç†Šç”Ÿå­˜", "(C) äººé¡æ‡‰é¤µé£ŸåŒ—æ¥µç†Š"], ans:1, damage:100, guide:"è–å…‰çˆ†è£‚ï¼", feedback:"é­”é¾è¢«æ·¨åŒ–äº†ï¼"}] }
                ]
            },
            {
                name: "ç¬¬ä¸ƒå¼ï¼šç´°ç¯€é¡Œ",
                levelReq: 15,
                weapon: { name: "é·¹çœ¼è­·ç›®é¡", icon: "ğŸ‘“", desc: "ã€èƒ½åŠ›ã€‘æƒæé¸é …ï¼Œé€è¦–ç´°ç¯€ã€‚<li><strong>é€è¦–ï¼š</strong>å…ˆè®€é¸é …é—œéµå­—ã€‚</li><li><strong>æƒæï¼š</strong>å›åˆ°æ–‡ç« å®šä½ã€‚</li>" },
                enemies: [ { name: "æ•¸æ“šè™è ", sprite: "ğŸ¦‡", hp: 300, type: "mob" }, { name: "é‚è¼¯èœ˜è››", sprite: "ğŸ•·ï¸", hp: 300, type: "mob" }, { name: "ç´°ç¯€é­”çœ¼", sprite: "ğŸ‘¹", hp: 500, type: "boss" } ],
                questions: [
                    { passage: "èšå››æ°Ÿä¹™çƒ¯ï¼ˆPTFEï¼‰ä¿—ç¨±éµæ°Ÿé¾ï¼Œå› å…¶æ¥µä½çš„æ‘©æ“¦ä¿‚æ•¸è€Œè¢«å»£æ³›æ‡‰ç”¨æ–¼ä¸æ²¾é‹å¡—å±¤ã€‚PTFE çš„åŒ–å­¸æ€§è³ªæ¥µå…¶ç©©å®šï¼Œè€é…¸é¹¼ã€è€é«˜æº«ã€‚ç„¶è€Œï¼Œç•¶æº«åº¦è¶…é 260Â°C æ™‚ï¼Œå¡—å±¤å¯èƒ½é–‹å§‹è®Šè³ªï¼›è‹¥è¶…é 350Â°Cï¼Œå‰‡æœƒåˆ†è§£ç”¢ç”Ÿæœ‰æ¯’æ°£é«”ã€‚å› æ­¤ï¼Œä½¿ç”¨ä¸æ²¾é‹æ™‚æ‡‰é¿å…ç©ºç‡’ï¼Œä¸”ä¸å®œä½¿ç”¨é‡‘å±¬éŸï¼Œä»¥å…åˆ®å‚·å¡—å±¤å°è‡´ç‰©è³ªé‡‹å‡ºã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘é—œæ–¼ä¸æ²¾é‹çš„ä½¿ç”¨ï¼Œä¸‹åˆ—æ•˜è¿°ä½•è€…æ­£ç¢ºï¼Ÿ<br>(A) éµæ°Ÿé¾è€é«˜æº«ï¼Œç©ºç‡’ä¹Ÿä¸æœƒé‡‹æ”¾æ¯’ç´ <br>(B) ç‚ºå»¶é•·å£½å‘½ï¼Œæ‡‰ä½¿ç”¨é‡‘å±¬éŸç¿»ç‚’<br>(C) è¶…é 260Â°C æ™‚ï¼Œå¡—å±¤æ€§è³ªå¯èƒ½æ”¹è®Š</div>", steps: [{q:"ã€é€è¦–ã€‘è«‹æƒæé¸é … (C) çš„é—œéµå­—ï¼š", opts:["è€é…¸é¹¼ã€ç©©å®š", "260Â°Cã€æ€§è³ªæ”¹è®Š", "é‡‘å±¬éŸã€åˆ®å‚·"], ans:1, damage:100, guide:"æƒæé¸é … C...", highlight:"(C) è¶…é 260Â°C æ™‚ï¼Œå¡—å±¤æ€§è³ªå¯èƒ½æ”¹è®Š", feedback:"é—œéµå­—ç¢ºèªï¼"}, {q:"ã€æƒæã€‘åœ¨æ–‡ä¸­æ‰¾å‡ºã€Œ260Â°Cã€çš„ç›¸é—œæ•˜è¿°ï¼š", opts:["åŒ–å­¸æ€§è³ªæ¥µå…¶ç©©å®š", "ç•¶æº«åº¦è¶…é 260Â°C æ™‚ï¼Œå¡—å±¤å¯èƒ½é–‹å§‹è®Šè³ª", "è¶…é 350Â°Cï¼Œç”¢ç”Ÿæœ‰æ¯’æ°£é«”"], ans:1, damage:100, guide:"æ¯”å°æ–‡ç« ...", highlight:"ç•¶æº«åº¦è¶…é 260Â°C æ™‚ï¼Œå¡—å±¤å¯èƒ½é–‹å§‹è®Šè³ª", feedback:"æ•¸æ“šå»åˆï¼"}, {q:"ã€åˆ¤æ–·ã€‘é¸é … (C) æ˜¯å¦æ­£ç¢ºï¼Ÿ", opts:["æ­£ç¢º", "éŒ¯èª¤", "ç„¡æ³•åˆ¤æ–·"], ans:0, damage:100, guide:"ç™¼å‹•æ”»æ“Šï¼", feedback:"ç²¾æº–å‘½ä¸­ï¼"}] },
                    { passage: "é‚£é›™ç²—ç³™çš„æ‰‹ï¼Œä½ˆæ»¿äº†æ­²æœˆçš„åˆ»ç—•ï¼Œæ¯ä¸€é“è£‚ç´‹éƒ½è—è‘—ç‚ºå®¶åº­æ“å‹çš„æ•…äº‹ã€‚çˆ¶è¦ªå¾ä¸èªªæ„›ï¼Œä½†é¤æ¡Œä¸Šé‚£ç¢—ç¸½æ˜¯å‰å¥½æ®¼çš„è¦ï¼Œå»æ¯”ä»»ä½•è¨€èªéƒ½éœ‡è€³æ¬²è¾ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘é€™æ®µæ–‡å­—é‹ç”¨äº†ä»€éº¼å¯«ä½œæŠ€å·§ï¼Ÿ<br>(A) è—‰äº‹æŠ’æƒ…<br>(B) èª‡é£¾ä¿®è¾­<br>(C) å€’æ•˜æ‰‹æ³•</div>", steps: [{q:"é–å®šæ–‡ç« ä¸­çš„ã€Œå…·é«”äº‹ä»¶ã€ï¼š", opts:["æ­²æœˆçš„åˆ»ç—•", "å‰å¥½æ®¼çš„è¦", "éœ‡è€³æ¬²è¾"], ans:1, damage:100, guide:"å°‹æ‰¾äº‹ä»¶...", highlight:"é¤æ¡Œä¸Šé‚£ç¢—ç¸½æ˜¯å‰å¥½æ®¼çš„è¦", feedback:"äº‹ä»¶é–å®šï¼"}, {q:"é€™ä»¶äº‹ä»£è¡¨äº†ä»€éº¼æŠ½è±¡æƒ…æ„Ÿï¼Ÿ", opts:["çˆ¶è¦ªå¾ˆé–’", "çˆ¶è¦ªå–œæ­¡åƒæµ·é®®", "çˆ¶è¦ªæ²ˆé»˜ä½†æ·±åšçš„æ„›"], ans:2, damage:100, guide:"åˆ†ææƒ…æ„Ÿ...", highlight:"æ¯”ä»»ä½•è¨€èªéƒ½éœ‡è€³æ¬²è¾ã€‚", feedback:"æƒ…æ„Ÿé€£çµï¼"}, {q:"å°ç…§é¸é …ï¼Œå“ªä¸€å€‹ç¬¦åˆã€Œè—‰äº‹æŠ’æƒ…ã€ï¼Ÿ", opts:["(A) è—‰äº‹æŠ’æƒ…", "(B) èª‡é£¾ä¿®è¾­", "(C) å€’æ•˜æ‰‹æ³•"], ans:0, damage:100, guide:"çµ‚çµï¼", feedback:"æŠ€å·§è­˜ç ´ï¼"}] },
                    { passage: "è˜‡è»¾ï¼Œå­—å­ç»ï¼Œè™Ÿæ±å¡å±…å£«ã€‚ç”Ÿæ€§è±ªæ”¾ï¼Œä»•é€”åå·ï¼Œæ›¾å› ã€Œçƒè‡ºè©©æ¡ˆã€è²¶è¬«é»ƒå·ã€‚å…¶æ–‡æ±ªæ´‹æ£è‚†ï¼Œè©©è©äº¦è±ªé‚å¥”æ”¾ï¼Œèˆ‡çˆ¶è˜‡æ´µã€å¼Ÿè˜‡è½åˆç¨±ã€Œä¸‰è˜‡ã€ï¼ŒåŒåˆ—å”å®‹å¤æ–‡å…«å¤§å®¶ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘é—œæ–¼è˜‡è»¾ï¼Œä¸‹åˆ—ä½•è€…ã€ŒéŒ¯èª¤ã€ï¼Ÿ<br>(A) æ›¾é­é‡æ”¿æ²»è¿«å®³<br>(B) çˆ¶è¦ªæ˜¯è˜‡è½<br>(C) æ˜¯å”å®‹å…«å¤§å®¶ä¹‹ä¸€</div>", steps: [{q:"ã€é­”ç‹æˆ°ã€‘é¡Œç›®å•ã€ŒéŒ¯èª¤ã€ï¼Œé€™ä»£è¡¨ä»€éº¼ï¼Ÿ", opts:["åªæœ‰ä¸€å€‹é¸é …æ­£ç¢º", "æœ‰å…©å€‹é¸é …æ­£ç¢º", "åªæœ‰ä¸€å€‹é¸é …éŒ¯èª¤"], ans:2, damage:100, guide:"é€†å‘æ€è€ƒ...", feedback:"æ‰¾å‡ºå”¯ä¸€çš„è¬Šè¨€ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘é©—è­‰ (A)ã€Œæ”¿æ²»è¿«å®³ã€ï¼š", opts:["ç”Ÿæ€§è±ªæ”¾", "å› ã€Œçƒè‡ºè©©æ¡ˆã€è²¶è¬«é»ƒå·", "åŒåˆ—å”å®‹å…«å¤§å®¶"], ans:1, damage:100, guide:"æ¯”å° A...", highlight:"æ›¾å› ã€Œçƒè‡ºè©©æ¡ˆã€è²¶è¬«é»ƒå·", feedback:"A æ˜¯æ­£ç¢ºçš„ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘é©—è­‰ (B)ã€Œçˆ¶è¦ªæ˜¯è˜‡è½ã€ï¼š", opts:["èˆ‡çˆ¶è˜‡æ´µã€å¼Ÿè˜‡è½åˆç¨±ã€Œä¸‰è˜‡ã€", "å­—å­ç»", "è™Ÿæ±å¡å±…å£«"], ans:0, damage:100, guide:"æ¯”å° B...", highlight:"èˆ‡çˆ¶è˜‡æ´µã€å¼Ÿè˜‡è½åˆç¨±ã€Œä¸‰è˜‡ã€", feedback:"ç™¼ç¾çŸ›ç›¾ï¼B æ˜¯éŒ¯çš„ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘é©—è­‰ (C)ã€Œå”å®‹å…«å¤§å®¶ã€ï¼š", opts:["ä»•é€”åå·", "åŒåˆ—å”å®‹å¤æ–‡å…«å¤§å®¶", "å…¶æ–‡æ±ªæ´‹æ£è‚†"], ans:1, damage:100, guide:"æ¯”å° C...", highlight:"åŒåˆ—å”å®‹å¤æ–‡å…«å¤§å®¶ã€‚", feedback:"C æ˜¯æ­£ç¢ºçš„ï¼"}, {q:"ã€å¥§ç¾©ã€‘é¸å‡ºã€ŒéŒ¯èª¤ã€çš„æ•˜è¿°ï¼š", opts:["(A)", "(B)", "(C)"], ans:1, damage:100, guide:"çµ‚çµé­”çœ¼ï¼", feedback:"ç´°ç¯€é­”çœ¼è¢«å°å°ï¼"}] }
                ]
            },
            {
                name: "ç¬¬å…«å¼ï¼šæ·±é›£å­—è©",
                levelReq: 30,
                weapon: { name: "é€è¦–ç¨œé¡", icon: "ğŸ’", desc: "ã€èƒ½åŠ›ã€‘å…‰æŸæŠ˜å°„ï¼Œæ¨æ•²å­—ç¾©ã€‚" },
                enemies: [ { name: "å¤æ–‡çŸ³åƒ", sprite: "ğŸ—¿", hp: 300, type: "mob" }, { name: "å¤šç¾©å¹»å½±", sprite: "ğŸ‘»", hp: 300, type: "mob" }, { name: "æ–‡è¨€é­”ç¥", sprite: "ğŸ‘¹", hp: 500, type: "boss" } ],
                questions: [
                    { passage: "ä½™å˜—æ–¼åœŸåº«è¡—ï¼Œè¦‹ä¸€ä¸ï¼Œé›–è·›ä¸€è¶³ï¼Œè€Œæ•è¡£ä¹‹ä¸­ï¼Œçš†è“„æ›¸ä¹Ÿã€‚......äººéºä¹‹éŒ¢ï¼Œå‰‡è¬ä¸å—ï¼›éºä¹‹æ›¸ï¼Œå‰‡ã€Œä¿›ã€è€Œå—ä¹‹ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘æ–‡ä¸­ã€Œä¿›ã€å­—çš„æ„æ€æœ€æ¥è¿‘ä¸‹åˆ—ä½•è€…ï¼Ÿ<br>(A) å‹‰å¼·<br>(B) ä½é ­<br>(C) å¿«é€Ÿ</div>", steps: [{q:"ã€å®šä½ã€‘è«‹ç”¨ç¨œé¡é–å®šç›®æ¨™å­—ã€Œä¿›ã€ï¼š", opts:["æ•è¡£", "ä¿›", "è¬ä¸å—"], ans:1, damage:100, guide:"ç™¼å°„é»ƒå…‰å®šä½...", highlight:"ä¿›", highlightType:"target", feedback:"ç›®æ¨™å·²é–å®šï¼"}, {q:"ã€ç·šç´¢ã€‘ä¹ä¸æ‹¿åˆ°æ›¸å¾ˆé«˜èˆˆï¼Œå‹•ä½œä¸Šæœƒå¦‚ä½•è¡¨ç¤ºæ„Ÿè¬ï¼Ÿ", opts:["é«˜å‚²åœ°æ‹¿èµ°", "ä½é ­å½è…°æ¥å—", "å‹‰å¼·æ”¶ä¸‹"], ans:1, damage:100, guide:"è—å…‰å°‹æ‰¾ç·šç´¢...", highlight:"å—ä¹‹", highlightType:"clue", feedback:"èªå¢ƒç·šç´¢ç¢ºèªã€‚"}, {q:"ã€æŠ˜å°„ã€‘ç¶œåˆæ¨è«–ï¼Œã€Œä¿›ã€é€šã€Œä¿¯ã€ï¼Œæ„æ€æ˜¯ï¼Ÿ", opts:["(A) å‹‰å¼·", "(B) ä½é ­", "(C) å¿«é€Ÿ"], ans:1, damage:100, guide:"æ¨å°å­—ç¾©ï¼", highlight:"ä¿›", feedback:"æ¨è«–æ­£ç¢ºï¼"}] },
                    { passage: "ï¼ˆèœ€è³ˆï¼‰ä¹ƒå–å…¶æ˜“å”®è€…ï¼Œæ¨™ä¹‹ä»¥å»‰åƒ¹ï¼›å–å…¶ä¸æ˜“å”®è€…ï¼Œå±…ä¹‹ä»¥å¥‡åƒ¹ã€‚äººçˆ­è¶¨ä¹‹ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘æ–‡ä¸­ã€Œå±…ã€å­—çš„æ„æ€ç‚ºä½•ï¼Ÿ<br>(A) å±…ä½<br>(B) å›¤ç©<br>(C) æ­¸é‚„</div>", steps: [{q:"ã€å®šä½ã€‘é–å®šç›®æ¨™å­—ã€Œå±…ã€ï¼š", opts:["æ˜“å”®è€…", "å»‰åƒ¹", "å±…"], ans:2, damage:100, guide:"å®šä½...", highlight:"å±…", highlightType:"target", feedback:"é–å®šï¼"}, {q:"ã€ç·šç´¢ã€‘å•†äººå°ã€Œä¸æ˜“å”®ã€ï¼ˆé›£è³£ï¼‰çš„è²¨ç‰©ï¼Œæœƒæ€éº¼åšï¼Ÿ", opts:["ç«‹åˆ»ä¸Ÿæ‰", "æ‹¿ä¾†ä½", "å›¤ç©èµ·ä¾†ç­‰å¾…é«˜åƒ¹"], ans:2, damage:100, guide:"åˆ†æè¡Œç‚º...", highlight:"å–å…¶ä¸æ˜“å”®è€…", highlightType:"clue", feedback:"ç·šç´¢ï¼šé›£è³£çš„å…ˆæ”¾è‘—ã€‚"}, {q:"ã€æŠ˜å°„ã€‘æˆèªã€Œå¥‡è²¨å¯å±…ã€çš„ã€Œå±…ã€ï¼Œæ„æ€æ˜¯ï¼Ÿ", opts:["(A) å±…ä½", "(B) å›¤ç©", "(C) æ­¸é‚„"], ans:1, damage:100, guide:"å­—ç¾©é€è¦–ï¼", feedback:"çŸ³åƒå´©è§£ï¼"}] },
                    { passage: "å­æ›°ï¼šã€Œå­¸è€Œä¸æ€å‰‡ç½”ï¼Œæ€è€Œä¸å­¸å‰‡æ®†ã€‚ã€<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘é—œæ–¼ã€Œç½”ã€èˆ‡ã€Œæ®†ã€çš„è§£é‡‹ï¼Œä½•è€…æ°ç•¶ï¼Ÿ<br>(A) ç½”ï¼šè¿·æƒ˜ / æ®†ï¼šå±éšª<br>(B) ç½”ï¼šæ¼ç¶² / æ®†ï¼šæ€ æƒ°<br>(C) ç½”ï¼šæ¬ºé¨™ / æ®†ï¼šæ­»äº¡</div>", steps: [{q:"ã€é­”ç‹æˆ°ã€‘å…ˆåˆ†æã€Œå­¸è€Œä¸æ€å‰‡ç½”ã€ï¼š", opts:["åªæ€è€ƒä¸å­¸ç¿’", "åªå­¸ç¿’ä¸æ€è€ƒ", "ä¸å­¸ä¹Ÿä¸æ€"], ans:1, damage:100, guide:"åˆ†æå‰åŠå¥...", highlight:"å­¸è€Œä¸æ€å‰‡ç½”", highlightType:"clue", feedback:"æƒ…å¢ƒï¼šæ­»è®€æ›¸ã€‚"}, {q:"ã€é­”ç‹æˆ°ã€‘åªè®€æ›¸ä¸æƒ³åƒï¼Œçµæœæœƒå¦‚ä½•ï¼Ÿ", opts:["æœƒè¢«é­šç¶²ç¶²ä½", "æœƒæ¬ºé¨™è€å¸«", "æœƒæ„Ÿåˆ°è¿·æƒ˜"], ans:2, damage:100, guide:"æ¨å°ç½”...", highlight:"ç½”", highlightType:"target", feedback:"ç½” = è¿·æƒ˜ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘æ¥è‘—åˆ†æã€Œæ€è€Œä¸å­¸å‰‡æ®†ã€ï¼š", opts:["ç©ºæƒ³è€Œä¸å­¸ç¿’", "å­¸ç¿’è€Œä¸ç©ºæƒ³", "å¾ˆå±éšª"], ans:0, damage:100, guide:"åˆ†æå¾ŒåŠå¥...", highlight:"æ€è€Œä¸å­¸å‰‡æ®†", highlightType:"clue", feedback:"æƒ…å¢ƒï¼šç©ºæƒ³ã€‚"}, {q:"ã€é­”ç‹æˆ°ã€‘æ•´å¤©èƒ¡æ€äº‚æƒ³å»æ²’æ ¹åŸºï¼Œç²¾ç¥ç‹€æ…‹æœƒï¼Ÿ", opts:["å¾ˆæ‡¶æƒ°", "å¾ˆå±éšªã€ç–‘æƒ‘ä¸å®‰", "æ­»æ‰"], ans:1, damage:100, guide:"æ¨å°æ®†...", highlight:"æ®†", highlightType:"target", feedback:"æ®† = å±æ®†ï¼"}, {q:"ã€å¥§ç¾©ã€‘ç¶œåˆä»¥ä¸Šï¼Œé¸å‡ºæ­£ç¢ºè§£é‡‹ï¼š", opts:["(A)", "(B)", "(C)"], ans:0, damage:100, guide:"çµ‚æ¥µå…‰æŸï¼", highlight:"(A) ç½”ï¼šè¿·æƒ˜ / æ®†ï¼šå±éšª", feedback:"æ–‡è¨€é­”ç¥è¢«æ·¨åŒ–äº†ï¼"}] }
                ]
            },
            {
                name: "ç¬¬ä¹å¼ï¼šæ–‡é«”æ‹†è§£",
                levelReq: 50,
                weapon: { name: "é‚è¼¯è–ç›¾", icon: "ğŸ›¡ï¸", desc: "ã€èƒ½åŠ›ã€‘æ–‡é«”å…¨åˆ¶éœ¸ã€‚<li><strong>ç™½è©±æ–‡ï¼š</strong>åˆªé™¤ä¹‹åˆƒï¼ˆåˆªå†—è¨€ï¼‰ã€‚</li><li><strong>æ–°è©©ï¼š</strong>æ„è±¡é›·é”ï¼ˆåœˆé—œéµï¼‰ã€‚</li><li><strong>éŸ»æ–‡ï¼š</strong>å¢å­—é€é¡ï¼ˆåŠ å­—è§£ï¼‰ã€‚</li><li><strong>æ–‡è¨€ï¼š</strong>ä¸»èªç¥ç›¾ï¼ˆæ‰¾çœç•¥ï¼‰ã€‚</li>" },
                enemies: [
                    { name: "å†—è¨€å²èŠå§†", sprite: "ğŸŸ¢", hp: 300, type: "mob", desc: "ç™½è©±æ–‡æ€ªç‰©" },
                    { name: "æŠ½è±¡è¿·éœ§", sprite: "ğŸŒ«ï¸", hp: 300, type: "mob", desc: "æ–°è©©æ€ªç‰©" },
                    { name: "é›™æ–‡é›™é ­è›‡", sprite: "ğŸ", hp: 300, type: "mob", desc: "éŸ»æ–‡æ€ªç‰©" },
                    { name: "å¤æ–‡é­”ç¥", sprite: "ğŸ‘¿", hp: 500, type: "boss", desc: "æ–‡è¨€æ–‡é­”ç‹" }
                ],
                questions: [
                    { passage: "ç”Ÿå‘½å°±åƒä¸€å ´é¦¬æ‹‰æ¾ï¼Œé‡é»ä¸åœ¨æ–¼ç¬é–“çš„çˆ†ç™¼ï¼Œè€Œåœ¨æ–¼é€”ä¸­çš„å …æŒã€‚é›–ç„¶è·¯é€”é™é ï¼Œå……æ»¿æ±—æ°´èˆ‡æ·šæ°´ï¼Œå½·å½¿æ°¸é çœ‹ä¸åˆ°çµ‚é»ï¼Œä½†åªè¦ä¸€æ­¥ä¸€è…³å°ï¼Œå°±èƒ½æŠµé”ã€‚é‚£äº›è¯éº—çš„è£å‚™ã€æ—äººçš„å–é‡‡ã€ç”šè‡³æ˜¯å¶çˆ¾çš„è·Œå€’ï¼Œéƒ½ä¸éæ˜¯éç¨‹ä¸­çš„é»ç¶´ç½·äº†ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘ä½œè€…èªç‚ºç”Ÿå‘½çš„é‡é»åœ¨æ–¼ï¼Ÿ<br>(A) ç¬é–“çš„çˆ†ç™¼<br>(B) é€”ä¸­çš„å …æŒ<br>(C) è¯éº—çš„è£å‚™</div>", steps: [{q:"ã€ç™½è©±æ–‡æˆ°è¡“ã€‘å•Ÿå‹•ã€Œåˆªé™¤ä¹‹åˆƒã€ï¼è«‹æ‰¾å‡ºæ‡‰ã€Œåˆªé™¤ã€çš„ä¿®é£¾èªå¥ï¼š", opts:["é‡é»ä¸åœ¨æ–¼ç¬é–“çš„çˆ†ç™¼", "å……æ»¿æ±—æ°´èˆ‡æ·šæ°´ï¼Œå½·å½¿æ°¸é çœ‹ä¸åˆ°çµ‚é»", "åªè¦ä¸€æ­¥ä¸€è…³å°ï¼Œå°±èƒ½æŠµé”"], ans:1, damage:100, guide:"åˆªé™¤ä¿®é£¾...", highlight:"å……æ»¿æ±—æ°´èˆ‡æ·šæ°´ï¼Œå½·å½¿æ°¸é çœ‹ä¸åˆ°çµ‚é»", highlightType:"delete", feedback:"å†—è¨€å·²åˆªé™¤ï¼"}, {q:"ã€ç™½è©±æ–‡æˆ°è¡“ã€‘å†åˆªé™¤ã€Œèˆ‰ä¾‹/é»ç¶´ã€çš„éƒ¨åˆ†ï¼š", opts:["é‚£äº›è¯éº—çš„è£å‚™ã€æ—äººçš„å–é‡‡", "ç”Ÿå‘½å°±åƒä¸€å ´é¦¬æ‹‰æ¾", "åœ¨æ–¼é€”ä¸­çš„å …æŒ"], ans:0, damage:100, guide:"åˆªé™¤èˆ‰ä¾‹...", highlight:"é‚£äº›è¯éº—çš„è£å‚™ã€æ—äººçš„å–é‡‡ã€ç”šè‡³æ˜¯å¶çˆ¾çš„è·Œå€’", highlightType:"delete", feedback:"å¹²æ“¾æ’é™¤ï¼"}, {q:"ã€çµ‚çµæŠ€ã€‘å‰©ä¸‹çš„ã€Œéª¨å¹¹ã€ä¸»æ—¨æ˜¯ï¼Ÿ", opts:["(A) ç¬é–“çš„çˆ†ç™¼", "(B) é€”ä¸­çš„å …æŒ", "(C) è¯éº—çš„è£å‚™"], ans:1, damage:100, guide:"æ ¸å¿ƒä¸€æ“Šï¼", feedback:"å²èŠå§†è¢«æ·¨åŒ–äº†ï¼"}] },
                    { passage: "æ¯è¦ªæ˜¯å‚˜ / æ˜¯å·¨è‘‰ / æ˜¯å¤§æ¨¹ / ç‚ºäº†æˆ‘çš„æ¿• / ç‚ºäº†æˆ‘çš„ç†± / ç‚ºäº†æˆ‘çš„æ¶¼<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘é€™é¦–è©©ä¸­ã€Œå‚˜ã€å·¨è‘‰ã€å¤§æ¨¹ã€è±¡å¾µäº†æ¯è¦ªçš„å“ªç¨®ç‰¹è³ªï¼Ÿ<br>(A) å–œæ„›å¤§è‡ªç„¶<br>(B) å°å­å¥³çš„ä¿è­·<br>(C) å¤šè®Šçš„æ€§æ ¼</div>", steps: [{q:"ã€æ–°è©©æˆ°è¡“ã€‘å•Ÿå‹•ã€Œæ„è±¡é›·é”ã€ï¼è«‹åœˆå‡ºè±¡å¾µæ¯è¦ªçš„ã€Œå…·é«”äº‹ç‰©ã€ï¼š", opts:["ç‚ºäº†ã€æˆ‘çš„", "æ¿•ã€ç†±ã€æ¶¼", "å‚˜ / æ˜¯å·¨è‘‰ / æ˜¯å¤§æ¨¹"], ans:2, damage:100, guide:"åœˆå‡ºå…·é«”åè©...", highlight:"å‚˜ / æ˜¯å·¨è‘‰ / æ˜¯å¤§æ¨¹", feedback:"å…·é«”æ„è±¡é–å®šï¼"}, {q:"ã€æ–°è©©æˆ°è¡“ã€‘é€™äº›äº‹ç‰©ï¼ˆå‚˜ã€æ¨¹ï¼‰æœ‰ä»€éº¼å…±åŒåŠŸèƒ½ï¼Ÿ", opts:["é®è”½ä¿è­·", "æä¾›é£Ÿç‰©", "è§€è³è£é£¾"], ans:0, damage:100, guide:"æ¨æ¸¬æ„è±¡...", feedback:"åŠŸèƒ½ï¼šä¿è­·èˆ‡é®è”½ï¼"}, {q:"ã€çµ‚çµæŠ€ã€‘é€™é¦–è©©æƒ³è¡¨é”çš„æ„è±¡æ˜¯ï¼Ÿ", opts:["(A) å–œæ„›å¤§è‡ªç„¶", "(B) å°å­å¥³çš„ä¿è­·", "(C) å¤šè®Šçš„æ€§æ ¼"], ans:1, damage:100, guide:"æ„è±¡è§£ç¢¼ï¼", feedback:"è¿·éœ§æ•£å»äº†ï¼"}] },
                    { passage: "æ¯è—¤è€æ¨¹æ˜é´‰ï¼Œå°æ©‹æµæ°´äººå®¶ï¼Œå¤é“è¥¿é¢¨ç˜¦é¦¬ã€‚å¤•é™½è¥¿ä¸‹ï¼Œæ–·è…¸äººåœ¨å¤©æ¶¯ã€‚<br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘é€™é¦–æ›²æå¯«äº†ä»€éº¼æ¨£çš„æƒ…æ„Ÿï¼Ÿ<br>(A) ç”°åœ’é–’é©<br>(B) æ¼‚æ³Šæ„è‹¦<br>(C) æˆ°å ´æ®ºæ•µ</div>", steps: [{q:"ã€éŸ»æ–‡æˆ°è¡“ã€‘åœˆå‡ºæœ€é‡è¦çš„ã€Œæ›²çœ¼ã€ï¼ˆé—œéµæƒ…æ„Ÿè©ï¼‰ï¼š", opts:["æ˜é´‰", "ç˜¦é¦¬", "æ–·è…¸äºº"], ans:2, damage:100, guide:"å°‹æ‰¾æ›²çœ¼...", highlight:"æ–·è…¸äºº", highlightType:"target", feedback:"æ›²çœ¼é–å®šï¼šæ–·è…¸äººï¼"}, {q:"ã€éŸ»æ–‡æˆ°è¡“ã€‘ã€Œå¢å­—ã€ç†è§£ï¼šæ¯è—¤(çºç¹)è€æ¨¹(æ£²æ¯)æ˜é´‰ã€‚é€™ç‡Ÿé€ äº†ä»€éº¼æ°£æ°›ï¼Ÿ", opts:["è•­ç‘Ÿæ·’æ¶¼", "ç†±é¬§ç¹è¯", "ç”Ÿæ©Ÿå‹ƒå‹ƒ"], ans:0, damage:100, guide:"é‚„åŸèªå¢ƒ...", highlight:"æ¯è—¤è€æ¨¹æ˜é´‰", highlightType:"clue", feedback:"æ°£æ°›ç¢ºèªï¼šè•­ç‘Ÿï¼"}, {q:"ã€çµ‚çµæŠ€ã€‘ç¶œåˆã€Œè•­ç‘Ÿæ™¯ç‰©ã€èˆ‡ã€Œæ–·è…¸äººã€ï¼Œç­”æ¡ˆæ˜¯ï¼Ÿ", opts:["(A) ç”°åœ’é–’é©", "(B) æ¼‚æ³Šæ„è‹¦", "(C) æˆ°å ´æ®ºæ•µ"], ans:1, damage:100, guide:"è–ç›¾è¡æ“Šï¼", feedback:"é›™é ­è›‡è¢«æ“Šæ½°ï¼"}] },
                    { passage: "ï¼ˆå­”å­ï¼‰å•ï¼šã€Œï¼ˆå­è·¯ï¼‰ä½•ä»¥ä¼ç‚ºï¼Ÿã€å°æ›°ï¼šã€Œï¼ˆå­è·¯ï¼‰æ˜”è€…ç”±ä¹Ÿèè«¸å¤«å­æ›°ï¼šã€ç‚ºåœ‹è€…ç„¡ä½¿ç‚ºç©ï¼Œç„¡æ³•è€…ç„¡ä½¿ç‚ºé›£ã€‚ã€ã€<br><span class='text-sm text-gray-400'>è¨»ï¼šä¼ï¼šèª‡è€€ã€‚ ç”±ï¼šå­è·¯çš„åã€‚</span><br><div class='bg-slate-800 p-4 mt-4'>ã€æ¨¡æ“¬è€ƒé¡Œã€‘å­è·¯å¼•ç”¨å­”å­çš„è©±ï¼Œç›®çš„æ˜¯ç‚ºäº†ï¼Ÿ<br>(A) åé§å­”å­<br>(B) è§£é‡‹è‡ªå·±èª‡è€€çš„åŸå› <br>(C) æ‰¹è©•åœ‹å›</div>", steps: [{q:"ã€é­”ç‹æˆ°ã€‘ã€Œå¢åŠæ‰¾ã€ï¼šæ‰¾å‡ºçœç•¥çš„ä¸»èªã€‚èª°åœ¨å•ã€Œä½•ä»¥ä¼ç‚ºã€ï¼Ÿ", opts:["å­è·¯", "å­”å­", "å¤«å­"], ans:1, damage:100, guide:"å°‹æ‰¾éš±å½¢ä¸»èª...", highlight:"ï¼ˆå­”å­ï¼‰å•ï¼šã€Œï¼ˆå­è·¯ï¼‰ä½•ä»¥ä¼ç‚ºï¼Ÿã€", feedback:"ä¸»èªæ˜¯å­”å­ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘ã€Œå°æ›°ã€æ˜¯èª°åœ¨å›ç­”ï¼Ÿ", opts:["å­”å­", "å­è·¯ (ç”±)", "ç„¡æ³•è€…"], ans:1, damage:100, guide:"åˆ¤æ–·å°è©±è€…...", highlight:"å°æ›°", feedback:"å›ç­”è€…æ˜¯å­è·¯ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘ã€Œèè«¸å¤«å­ã€ä¸­çš„ã€Œå¤«å­ã€æ˜¯æŒ‡èª°ï¼Ÿ", opts:["å­è·¯çš„çˆ¶è¦ª", "å­”å­", "åœ‹å›"], ans:1, damage:100, guide:"è§£æä»£è©...", highlight:"èè«¸å¤«å­", feedback:"å¤«å­ = å­”å­ï¼"}, {q:"ã€é­”ç‹æˆ°ã€‘å­è·¯å¼•ç”¨å­”å­çš„è©±ï¼Œç›®çš„æ˜¯ç‚ºäº†ï¼Ÿ", opts:["(A) åé§å­”å­", "(B) è§£é‡‹è‡ªå·±èª‡è€€çš„åŸå› ", "(C) æ‰¹è©•åœ‹å›"], ans:1, damage:100, guide:"æ¨è«–æ„åœ–...", feedback:"æ˜¯ç‚ºäº†è§£é‡‹è¡Œç‚ºï¼"}, {q:"ã€å¥§ç¾©ã€‘é€™æ®µå°è©±é¡¯ç¤ºäº†ä»€éº¼æ¨£çš„å¸«ç”Ÿäº’å‹•ï¼Ÿ", opts:["åŠæ‹”å¼©å¼µ", "å¾ªå¾ªå–„èª˜èˆ‡æ“šç†å›ç­”", "å†·æ¼ ç„¡æƒ…"], ans:1, damage:100, guide:"è–å…‰è£æ±ºï¼", feedback:"å¤æ–‡é­”ç¥è¢«å°å°äº†ï¼"}] }
                ]
            }
        ];

        function startGame() { document.getElementById('screen-start').classList.add('hidden'); document.getElementById('screen-map').classList.remove('hidden'); updateMapButtons(); }
        function enterReview(stageIdx) { gameData.currentStageIdx = stageIdx; const stage = stages[stageIdx]; document.getElementById('weapon-icon').innerText = stage.weapon.icon; document.getElementById('weapon-name').innerText = stage.weapon.name; document.getElementById('weapon-desc').innerHTML = stage.weapon.desc; document.getElementById('screen-map').classList.add('hidden'); document.getElementById('screen-review').classList.remove('hidden'); }
        function startCombat() { gameData.playerHp = gameData.playerMaxHp; gameData.currentQIdx = 0; gameData.stepIdx = 0; gameData.selectedOption = null; setupEnemy(); document.getElementById('screen-review').classList.add('hidden'); document.getElementById('screen-battle').classList.remove('hidden'); loadStepUI(); updatePlayerHpBar(); }
        function setupEnemy() { const stage = stages[gameData.currentStageIdx]; const enemy = stage.enemies[gameData.currentQIdx]; gameData.maxHp = enemy.hp; gameData.enemyHp = enemy.hp; const bgSprite = document.getElementById('monster-bg-sprite'); bgSprite.innerText = enemy.sprite; document.getElementById('enemy-name').innerText = enemy.name; if (enemy.type === 'boss') { document.getElementById('enemy-name').className = "font-bold text-yellow-400 text-2xl shadow-black drop-shadow-md"; } else { document.getElementById('enemy-name').className = "font-bold text-red-400 text-2xl shadow-black drop-shadow-md"; } updateHpBar(); }
        function loadStepUI() { const stage = stages[gameData.currentStageIdx]; const qData = stage.questions[gameData.currentQIdx]; const stepData = qData.steps[gameData.stepIdx]; gameData.selectedOption = null; document.getElementById('confirm-btn').disabled = true; document.getElementById('confirm-btn').classList.add('confirm-btn-disabled'); document.getElementById('confirm-btn').classList.remove('confirm-btn-active'); document.getElementById('current-stage-num').innerText = gameData.currentStageIdx + 6; document.getElementById('current-q-num').innerText = gameData.currentQIdx + 1; document.getElementById('guide-step-idx').innerText = gameData.stepIdx + 1; document.getElementById('guide-text').innerText = stepData.guide; let passageHTML = qData.passage; for (let i = 0; i < gameData.stepIdx; i++) { const s = qData.steps[i]; if (s.highlight) { let className = "highlight-target"; if (s.highlightType === 'clue') className = "highlight-clue"; else if (s.highlightType === 'delete') className = "highlight-delete"; if (s.highlight.includes('(') || s.highlight.includes('é¸é …')) className = "highlight-option"; passageHTML = passageHTML.replace(s.highlight, `<span class="${className}">${s.highlight}</span>`); } } document.getElementById('passage-text').innerHTML = passageHTML; document.getElementById('question-text').innerText = stepData.q; const grid = document.getElementById('options-grid'); grid.innerHTML = ''; stepData.opts.forEach((opt, idx) => { const btn = document.createElement('button'); btn.className = "option-btn w-full text-left p-4 bg-slate-800 border border-slate-600 rounded-xl hover:bg-sky-900/90 hover:border-sky-400 text-lg text-gray-200 flex items-center shadow-lg group"; btn.innerHTML = `<span class="font-bold text-yellow-400 mr-2 border border-yellow-400 rounded-full w-6 h-6 flex items-center justify-center text-xs shrink-0">${String.fromCharCode(65+idx)}</span> <span>${opt}</span>`; btn.onclick = () => selectOption(idx, btn); grid.appendChild(btn); }); }
        function selectOption(idx, btnElement) { gameData.selectedOption = idx; document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected')); btnElement.classList.add('selected'); const confirmBtn = document.getElementById('confirm-btn'); confirmBtn.disabled = false; confirmBtn.classList.remove('confirm-btn-disabled'); confirmBtn.classList.add('confirm-btn-active'); }
        function executeAttack() { const stage = stages[gameData.currentStageIdx]; const qData = stage.questions[gameData.currentQIdx]; const stepData = qData.steps[gameData.stepIdx]; const idx = gameData.selectedOption; const grid = document.getElementById('options-grid'); const btns = grid.getElementsByClassName('option-btn'); if (idx === stepData.ans) { btns[idx].classList.add('bg-green-900', 'border-green-400'); triggerWeaponEffect(stage.name); triggerMonsterHit(); showDamageNumber(stepData.damage); if (stepData.highlight) { let className = "highlight-target"; if (stepData.highlightType === 'clue') className = "highlight-clue"; else if (stepData.highlightType === 'delete') className = "highlight-delete"; if (stepData.highlight.includes('(') || stepData.highlight.includes('é¸é …')) className = "highlight-option"; const originalHTML = document.getElementById('passage-text').innerHTML; const newHTML = originalHTML.replace(stepData.highlight, `<span class="${className}">${stepData.highlight}</span>`); document.getElementById('passage-text').innerHTML = newHTML; } gameData.enemyHp = Math.max(0, gameData.enemyHp - stepData.damage); updateHpBar(); setTimeout(() => { nextStep(); }, 1500); } else { btns[idx].classList.add('bg-red-900', 'border-red-400'); triggerPlayerDamage(); showFlashText("OUCH!"); showPlayerDamageNumber(25); gameData.playerHp = Math.max(0, gameData.playerHp - 25); updatePlayerHpBar(); if (gameData.playerHp <= 0) { setTimeout(triggerGameOver, 1000); } } }
        function triggerWeaponEffect(stageName) { if (stageName.includes("å¤§æ„")) { const slash = document.getElementById('slash-effect'); slash.classList.remove('slash-active'); void slash.offsetWidth; slash.classList.add('slash-active'); showFlashText("SLASH!"); } else if (stageName.includes("ç´°ç¯€")) { const scan = document.getElementById('scan-effect'); scan.classList.remove('scan-active'); void scan.offsetWidth; scan.classList.add('scan-active'); showFlashText("SCAN!"); } else if (stageName.includes("æ·±é›£")) { const beam = document.getElementById('beam-effect'); beam.classList.remove('beam-active'); void beam.offsetWidth; beam.classList.add('beam-active'); showFlashText("BEAM!"); } else if (stageName.includes("æ–‡é«”")) { const shield = document.getElementById('shield-effect'); shield.classList.remove('shield-active'); void shield.offsetWidth; shield.classList.add('shield-active'); showFlashText("SHIELD!"); } }
        function nextStep() { const stage = stages[gameData.currentStageIdx]; const qData = stage.questions[gameData.currentQIdx]; if (gameData.stepIdx < qData.steps.length - 1) { gameData.stepIdx++; loadStepUI(); } else { nextLevel(); } }
        function nextLevel() { const stage = stages[gameData.currentStageIdx]; if (gameData.currentQIdx < stage.enemies.length - 1) { gameData.currentQIdx++; gameData.stepIdx = 0; setupEnemy(); loadStepUI(); } else { document.getElementById('screen-battle').classList.add('hidden'); document.getElementById('screen-result').classList.remove('hidden'); gameData.heroLv += [15, 15, 20, 49][gameData.currentStageIdx]; if(gameData.heroLv > 99) gameData.heroLv = 99; document.getElementById('hero-lv').innerText = gameData.heroLv; updateMapButtons(); } }
        function backToMap() { document.getElementById('screen-result').classList.add('hidden'); document.getElementById('screen-map').classList.remove('hidden'); updateMapButtons(); }
        function retryStage() { document.getElementById('screen-gameover').classList.add('hidden'); startCombat(); }
        function triggerGameOver() { document.getElementById('screen-gameover').classList.remove('hidden'); }
        function triggerMonsterHit() { const enemy = document.getElementById('monster-bg-sprite'); enemy.classList.add('monster-hit'); setTimeout(() => { enemy.classList.remove('monster-hit'); }, 400); }
        function triggerPlayerDamage() { const container = document.getElementById('game-container'); const overlay = document.getElementById('damage-effect'); const flash = document.getElementById('damage-flash'); const stage = stages[gameData.currentStageIdx]; const enemy = stage.enemies[gameData.currentQIdx]; container.classList.add('shake-screen'); flash.style.opacity = 1; setTimeout(() => { flash.style.opacity = 0; }, 300); setTimeout(() => container.classList.remove('shake-screen'), 500); if (enemy.type === 'boss') { overlay.className = 'damage-overlay damage-fire'; } else { overlay.className = 'damage-overlay damage-scratch'; } setTimeout(() => { overlay.className = 'damage-overlay'; }, 800); }
        function showDamageNumber(val) { const bgContainer = document.getElementById('monster-bg-container'); const popup = document.createElement('div'); popup.className = 'damage-popup'; popup.innerText = `-${val}`; popup.style.left = '50%'; popup.style.top = '40%'; popup.style.transform = 'translate(-50%, -50%)'; bgContainer.appendChild(popup); setTimeout(() => popup.remove(), 1000); }
        function showPlayerDamageNumber(val) { const container = document.getElementById('game-container'); const popup = document.createElement('div'); popup.className = 'player-damage-popup'; popup.innerText = `-${val}`; popup.style.left = '15%'; popup.style.top = '12%'; container.appendChild(popup); setTimeout(() => popup.remove(), 1000); }
        function showFlashText(text) { const box = document.getElementById('flash-msg'); const txt = document.getElementById('flash-text'); txt.innerText = text; let color = 'text-white'; if (text === 'OUCH!') color = 'text-red-500'; if (text === 'SCAN!' || text === 'BEAM!') color = 'text-sky-300'; if (text === 'SHIELD!') color = 'text-yellow-400'; txt.className = `text-6xl md:text-8xl font-black italic drop-shadow-[0_0_10px_rgba(0,0,0,1)] text-stroke ${color}`; box.classList.remove('hidden'); txt.classList.add('scale-150'); setTimeout(() => txt.classList.remove('scale-150'), 100); setTimeout(() => box.classList.add('hidden'), 800); }
        function updateHpBar() { const percent = (gameData.enemyHp / gameData.maxHp) * 100; document.getElementById('enemy-hp-bar').style.width = percent + '%'; }
        function updatePlayerHpBar() { const percent = (gameData.playerHp / gameData.playerMaxHp) * 100; const bar = document.getElementById('player-hp-bar'); document.getElementById('player-hp-text').innerText = `${gameData.playerHp}/${gameData.playerMaxHp}`; bar.style.width = percent + '%'; if (percent <= 25) { bar.classList.remove('from-sky-600', 'to-blue-400'); bar.classList.add('from-red-600', 'to-orange-500'); } else { bar.classList.add('from-sky-600', 'to-blue-400'); bar.classList.remove('from-red-600', 'to-orange-500'); } }
        function updateMapButtons() { for (let i = 0; i <= 3; i++) { const btn = document.getElementById(`btn-${i}`); const stage = stages[i]; if (gameData.heroLv >= stage.levelReq) { btn.classList.remove('opacity-50', 'cursor-not-allowed'); btn.disabled = false; } } }
    </script>
</body>
</html>
