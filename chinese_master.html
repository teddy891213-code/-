<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æœƒè€ƒåœ‹æ–‡ï¼šäº”æ‹›å®—å¸«ä¹‹è·¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { touch-action: manipulation; user-select: none; background-color: #1a202c; color: white; font-family: "Microsoft JhengHei", sans-serif; }
        .btn-option { transition: all 0.1s; }
        .btn-option:active { transform: scale(0.98); }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
        #error-log { display: none; color: #fca5a5; background: #450a0a; padding: 20px; position: fixed; top: 0; left: 0; width: 100%; z-index: 9999; }
    </style>
</head>
<body>
    <div id="error-log"></div>
    <div id="root"></div>

    <script>
        // éŒ¯èª¤æ””æˆªå™¨ï¼šå¦‚æœé»‘ç•«é¢ï¼Œæœƒé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
        window.onerror = function(msg, url, line, col, error) {
            const errorBox = document.getElementById('error-log');
            errorBox.style.display = 'block';
            errorBox.innerHTML = `<h3>âš ï¸ ç¨‹å¼ç™¼ç”ŸéŒ¯èª¤</h3><p>${msg}</p><p>Line: ${line}</p>`;
        };
    </script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // é¡Œç›®è³‡æ–™ (ç§»é™¤ Source æ¬„ä½ä»¥é¿å…ç³»çµ±æ¨™è¨˜éŒ¯èª¤)
        const allQuestions = [
            // --- ç¬¬ä¸€æ‹›ï¼šå½¢éŸ³ç¾© ---
            {
                id: 1, move: "å½¢éŸ³ç¾©", color: "bg-red-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ä¸‹åˆ—è©èªã€Œã€ä¸­çš„å­—ï¼Œä½•è€…è®€éŸ³æ­£ç¢ºï¼Ÿ",
                options: [
                    { text: "æ˜¥å¯’æ–™ã€Œå³­ã€ï¼šã„‘ã„§ã„ Ë‹", isCorrect: true },
                    { text: "ã€Œæ¹›ã€è—å¤©ç©ºï¼šã„•ã„£Ë‹", isCorrect: false },
                    { text: "ä¸€æƒé™°ã€Œéœ¾ã€ï¼šã„Œã„§ËŠ", isCorrect: false },
                    { text: "èƒ¼æ‰‹ã€Œèƒã€è¶³ï¼šã„‰ã„§Ë‡", isCorrect: false }
                ],
                desc: "è§£æï¼šæ­£ç¢ºè®€éŸ³ç‚º æ¹›(ã„“ã„¢Ë‹)è—ã€é™°éœ¾(ã„‡ã„ËŠ)ã€èƒ¼æ‰‹èƒ(ã„“)è¶³ã€‚"
            },
            {
                id: 2, move: "å½¢éŸ³ç¾©", color: "bg-red-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ä¸‹åˆ—é¸é …ã€Œã€ä¸­çš„å­—ï¼Œä½•çµ„è®€éŸ³ç›¸åŒï¼Ÿ",
                options: [
                    { text: "ã€Œæªã€å®ˆ / ä¸€ã€Œæ ¼ã€", isCorrect: false },
                    { text: "ã€ŒæŠµã€æ­» / åºœã€Œé‚¸ã€", isCorrect: true },
                    { text: "å­—ã€Œæ–Ÿã€ / ã€Œå‹˜ã€æ­£", isCorrect: false },
                    { text: "é¾éˆã€Œæ¯“ã€ç§€ / ã€Œè‚²ã€æˆ", isCorrect: false }
                ],
                desc: "è§£æï¼šæŠµèˆ‡é‚¸çš†è®€ä½œ(ã„‰ã„§Ë‡)ã€‚Aç‚º(ã„ã„œË‹/ã„ã„œËŠ)ï¼ŒCç‚º(ã„“ã„£/ã„ã„¢)ã€‚"
            },
            {
                id: 3, move: "å½¢éŸ³ç¾©", color: "bg-red-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘æ ¹æ“šå…­æ›¸é€ å­—åŸå‰‡ï¼Œã€Œæœ«ã€å­—ï¼ˆæœ¨ä¸Šç«¯åŠ ä¸€é»ï¼‰å±¬æ–¼å“ªä¸€é¡ï¼Ÿ",
                options: [
                    { text: "è±¡å½¢", isCorrect: false },
                    { text: "æŒ‡äº‹", isCorrect: true },
                    { text: "æœƒæ„", isCorrect: false },
                    { text: "å½¢è²", isCorrect: false }
                ],
                desc: "è§£æï¼šã€Œæœ«ã€å­—æ˜¯åœ¨ã€Œæœ¨ã€çš„ä¸Šç«¯åŠ ä¸€æ©«ç•«æŒ‡ç¤ºä½ç½®ï¼Œå±¬æ–¼ã€ŒæŒ‡äº‹ã€ã€‚"
            },

            // --- ç¬¬äºŒæ‹›ï¼šæˆèªé‹ç”¨ ---
            {
                id: 4, move: "æˆèªé‹ç”¨", color: "bg-yellow-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘å…©è»äº¤æˆ°ï¼Œç­–ç•¥æ˜¯ã€Œå…ˆè½‰ç§»æ•µäººç›®æ¨™ï¼Œä½¿ç–æ–¼é˜²ç¯„ï¼Œç„¶å¾Œä¹˜å…¶ä¸æ„æ”»å…¶ä¸å‚™ã€ã€‚é€™é©åˆç”¨å“ªå€‹æˆèªï¼Ÿ",
                options: [
                    { text: "æ‹‹ç£šå¼•ç‰", isCorrect: false },
                    { text: "è²æ±æ“Šè¥¿", isCorrect: true },
                    { text: "è£¡æ‡‰å¤–åˆ", isCorrect: false },
                    { text: "è¶ç«æ‰“åŠ«", isCorrect: false }
                ],
                desc: "è§£æï¼šã€Œè²æ±æ“Šè¥¿ã€æŒ‡è¡¨é¢è²è¨€æ”»æ“Šæ±é¢ï¼Œå¯¦å‰‡æ”»æ“Šè¥¿é¢ï¼Œè£½é€ éŒ¯è¦ºã€‚"
            },
            {
                id: 5, move: "æˆèªé‹ç”¨", color: "bg-yellow-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ä¸‹åˆ—æ–‡å¥ä¸­çš„è©èªï¼Œä½•è€…ä½¿ç”¨æœ€æ°ç•¶ï¼Ÿ",
                options: [
                    { text: "é£²é£Ÿæ‡‰æ³¨é‡å‡è¡¡ï¼Œäº”ç©€ä¸åˆ†æ‰å¥åº·", isCorrect: false },
                    { text: "é€™æˆ¿å­ç¶“æ­·é¢¨ç½ä¾ç„¶å …å›ºï¼ŒçœŸæ˜¯ä¸æ„§å±‹æ¼", isCorrect: false },
                    { text: "ä½¿ç”¨å„€å™¨ä»¥è ¡æ¸¬æµ·å¾Œï¼Œçµ‚æ–¼å¾—åˆ°æº–ç¢ºæ•¸æ“š", isCorrect: false },
                    { text: "å°æ–¼è¡Œå°‡å°±æœ¨ä¹‹äººï¼Œä¸–é–“ä¸€åˆ‡å·²ç„¡é ˆç‰½æ›", isCorrect: true }
                ],
                desc: "è§£æï¼šAäº”ç©€ä¸åˆ†æŒ‡è„«é›¢ç”Ÿç”¢ï¼›Bä¸æ„§å±‹æ¼æŒ‡æš—å®¤ç„¡æ¬ºï¼›Cä»¥è ¡æ¸¬æµ·æŒ‡è¦‹è­˜æ·ºè–„ã€‚"
            },
            {
                id: 6, move: "æˆèªé‹ç”¨", color: "bg-yellow-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ã€Œæˆ‘çš„ä½œæ–‡åŠŸåŠ›å’Œæ˜è¯å·®ä¸å¤š(1)ï¼›æ€æ©çš„è¡¨ç¾æ›´å¥½ï¼Œæˆ‘åªèƒ½å‹‰å¼·(2)ï¼›è€Œè”šç„¶æ˜¯å¸¸å‹è»ï¼Œå’Œä»–æ¯”æˆ‘å°±(3)äº†ï¼ã€",
                options: [
                    { text: "1.æœ›å…¶é …èƒŒ 2.ä¸åˆ†è»’è¼Š 3.æœ›å¡µè«åŠ", isCorrect: false },
                    { text: "1.ä¸åˆ†è»’è¼Š 2.æœ›å…¶é …èƒŒ 3.æœ›å¡µè«åŠ", isCorrect: true },
                    { text: "1.æœ›å¡µè«åŠ 2.ä¸åˆ†è»’è¼Š 3.æœ›å…¶é …èƒŒ", isCorrect: false },
                    { text: "1.ä¸åˆ†è»’è¼Š 2.æœ›å¡µè«åŠ 3.æœ›å…¶é …èƒŒ", isCorrect: false }
                ],
                desc: "è§£æï¼šå·®ä¸å¤š=ä¸åˆ†è»’è¼Šï¼›å‹‰å¼·çœ‹å¾—åˆ°èƒŒå½±=æœ›å…¶é …èƒŒï¼›å®Œå…¨æ¯”ä¸ä¸Š=æœ›å¡µè«åŠã€‚"
            },

            // --- ç¬¬ä¸‰æ‹›ï¼šæ–‡æ„ç†è§£ ---
            {
                id: 7, move: "æ–‡æ„ç†è§£", color: "bg-green-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ã€Œäººç”Ÿæ˜¯çŸ­æš«çš„ï¼Œæ­»äº¡æ˜¯è‡ªç„¶çš„ï¼Œèªæ¸…äº†é€™é»ï¼Œæ´»è‘—çš„æ™‚å€™æ‰å¯ä»¥çœŸæ­£çš„æŠ•å…¥ã€‚ã€é€™å¥è©±æ¶µç¾©æœ€æ¥è¿‘ï¼Ÿ",
                options: [
                    { text: "ç¶“æ­·æ­»äº¡å¹½è°·ï¼Œæ‰èƒ½ç™¼ç¾æ´»è‘—çš„å¯è²´", isCorrect: false },
                    { text: "äº†è§£ç”Ÿå‘½é™åˆ¶ï¼Œå¦ç„¶é¢å°æ­»äº¡ï¼Œå°±èƒ½ç›¡æƒ…æ´»è‘—", isCorrect: true },
                    { text: "ç”Ÿå‘½çš„åƒ¹å€¼åœ¨æ–¼ä¸æ–·æŒ‘æˆ°è‡ªæˆ‘", isCorrect: false },
                    { text: "èƒ½å°‡æ­»äº¡ç½®ä¹‹åº¦å¤–çš„äººå¾€å¾€é›–æ­»çŒ¶ç”Ÿ", isCorrect: false }
                ],
                desc: "è§£æï¼šæ–‡å¥å¼·èª¿ã€Œèªæ¸…æ­»äº¡è‡ªç„¶ã€çš„é™åˆ¶å¾Œï¼Œåè€Œèƒ½ã€ŒçœŸæ­£æŠ•å…¥ã€æ´»è‘—çš„ç•¶ä¸‹ã€‚"
            },
            {
                id: 8, move: "æ–‡æ„ç†è§£", color: "bg-green-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ã€Œäººç”Ÿä½•å˜—ä¸åƒä¸€å ´ç«¶è³½...æœ‰çš„å¾Œç¹¼ç„¡åŠ›è¢«äººè¶…å‰ï¼Œæœ‰çš„åŠè·¯æ‘”å€’ä¸€è¹¶ä¸èµ·ã€‚å› æ­¤ï¼Œ______ã€‚ã€ç•«ç·šè™•æœ€é©åˆå¡«å…¥ï¼Ÿ",
                options: [
                    { text: "äººç”Ÿçš„ç«¶è³½å¾€å¾€æ˜¯æš—æ½®æ´¶æ¹§çš„", isCorrect: false },
                    { text: "è‡ºå‰é¢¨å…‰æ˜¯èƒŒå¾Œæ±—æ°´ç´¯ç©è€Œæˆ", isCorrect: false },
                    { text: "å …æŒåˆ°åº•çš„äººæ‰æ˜¯æœ€å¾Œçš„è´å®¶", isCorrect: true },
                    { text: "å‹æ•—çš†ç”±å¤©å®šï¼Œç„¡é ˆæ€¨å¤©å°¤äºº", isCorrect: false }
                ],
                desc: "è§£æï¼šå‰æ–‡æåˆ°æœ‰äººæŠ±æ€¨ã€æœ‰äººæ”¾æ£„ï¼Œå°æ¯”ä¹‹ä¸‹ï¼Œå¼·èª¿ã€Œå …æŒã€çš„é‡è¦æ€§ã€‚"
            },
            {
                id: 9, move: "æ–‡æ„ç†è§£", color: "bg-green-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ã€ŒçœŸæ­£çš„è©©æ˜¯è©©äººçš„å¿ƒéˆ...å€˜è‹¥èƒ½æŠŠäººå‰–é–‹ï¼Œå°±èƒ½åœ¨ä»–è£¡é¢çœ‹åˆ°ä½œå“æœ€å¾®æœ«çš„ä¸€æ’‡ä¸€é‰¤ã€‚ã€æ„æ—¨æœ€æ¥è¿‘ï¼Ÿ",
                options: [
                    { text: "ä½œå“çš†æ˜¯å‰µä½œè€…å…§å¿ƒæƒ…å¿—çš„æŠ•å°„", isCorrect: true },
                    { text: "å‰µä½œå¿ƒå¢ƒçš„é‡è¦æ€§é«˜æ–¼å‘ˆç¾æŠ€å·§", isCorrect: false },
                    { text: "è—è¡“å‰µä½œçš„ç²¾é«“æºæ–¼ç”¨å¿ƒä»”ç´°è§€å¯Ÿ", isCorrect: false },
                    { text: "ä¸åŒçš„å‰µä½œå¯èƒ½æœ‰ç›¸åŒçš„å…§åœ¨ç²¾ç¥", isCorrect: false }
                ],
                desc: "è§£æï¼šé€™æ®µæ–‡å­—å¼·èª¿ä½œå“èˆ‡å‰µä½œè€…å¿ƒéˆçš„ç·Šå¯†é€£çµï¼Œä½œå“åæ˜ äº†ä½œè€…çš„å…§åœ¨ã€‚"
            },

            // --- ç¬¬å››æ‹›ï¼šåœ–è¡¨åˆ¤è®€ ---
            {
                id: 10, move: "åœ–è¡¨åˆ¤è®€", color: "bg-blue-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ã€ŒèƒŒåŒ…èˆ‡å¥åº·ã€ï¼šå¾ŒèƒŒé‡é‡å»ºè­°é«”é‡10%å…§ï¼Œå´èƒŒ5%å…§ã€‚è‹¥å°æ˜é«”é‡60å…¬æ–¤ï¼Œä½•è€…æœ€ç¬¦åˆå¥åº·æ¦‚å¿µï¼Ÿ",
                options: [
                    { text: "å¾ŒèƒŒï¼ŒèƒŒåŒ…ç¸½é‡ 7 å…¬æ–¤", isCorrect: false },
                    { text: "å´èƒŒï¼ŒèƒŒåŒ…ç¸½é‡ 4 å…¬æ–¤", isCorrect: false },
                    { text: "å¾ŒèƒŒï¼ŒèƒŒåŒ…ç¸½é‡ 5 å…¬æ–¤", isCorrect: true },
                    { text: "å´èƒŒï¼ŒèƒŒåŒ…ç¸½é‡ 3.5 å…¬æ–¤", isCorrect: false }
                ],
                desc: "è§£æï¼š60kgçš„10%æ˜¯6kg(å¾ŒèƒŒä¸Šé™)ï¼Œ5%æ˜¯3kg(å´èƒŒä¸Šé™)ã€‚5kgå¾ŒèƒŒç¬¦åˆæ¨™æº–ã€‚"
            },
            {
                id: 11, move: "åœ–è¡¨åˆ¤è®€", color: "bg-blue-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ã€Œå„åœ‹æ•™è‚²ç¶“è²»ã€é•·æ¢åœ–ï¼šç”²åœ‹å°å­¸ç¶“è²»é•·æ¢é«˜æ–¼å¹³å‡ç·šã€‚ä¹™åœ‹çš†ä½ã€‚ä¸™åœ‹åœ‹ä¸­é«˜ã€‚ä¸åœ‹é«˜ä¸­æœ€é«˜ã€‚ä½•è€…æ­£ç¢ºï¼Ÿ",
                options: [
                    { text: "ç”²åœ‹å°å­¸æ•™è‚²ç¶“è²» é«˜æ–¼ å¹³å‡å€¼", isCorrect: true },
                    { text: "ä¸™åœ‹åœ‹ä¸­æ•™è‚²ç¶“è²» ä½æ–¼ å¹³å‡å€¼", isCorrect: false },
                    { text: "å„åœ‹é«˜ç­‰æ•™è‚²ç¶“è²»çš†å¤šæ–¼å…¶ä»–éšæ®µ", isCorrect: false },
                    { text: "ä¸åœ‹é«˜ä¸­ç”Ÿç¶“è²»æ˜¯æ‰€æœ‰åœ‹å®¶ä¸­æœ€ä½", isCorrect: false }
                ],
                desc: "è§£æï¼šä¾æ“šåŸé¡Œåœ–è¡¨åˆ¤è®€ï¼Œç”²åœ‹çš„å°å­¸æ•™è‚²ç¶“è²»æ¢ç‹€åœ–æ˜é¡¯é«˜æ–¼OECDå¹³å‡ç·šã€‚"
            },
            {
                id: 12, move: "åœ–è¡¨åˆ¤è®€", color: "bg-blue-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘é—œæ–¼ã€Œäººå·¥æ™ºæ…§ã€æ©Ÿå™¨å­¸ç¿’ã€æ·±åº¦å­¸ç¿’ã€çš„é—œä¿‚ï¼Œæ·±åº¦å­¸ç¿’å±¬æ–¼æ©Ÿå™¨å­¸ç¿’ï¼Œæ©Ÿå™¨å­¸ç¿’å±¬æ–¼äººå·¥æ™ºæ…§ã€‚æ­£ç¢ºåœ–ç¤ºç‚ºï¼Ÿ",
                options: [
                    { text: "ä¸‰å€‹åœ“åœˆå®Œå…¨åˆ†é–‹", isCorrect: false },
                    { text: "å¤§åœ“(AI) åŒ… ä¸­åœ“(æ©Ÿå™¨) åŒ… å°åœ“(æ·±åº¦)", isCorrect: true },
                    { text: "ä¸‰å€‹åœ“åœˆéƒ¨åˆ†é‡ç–Š", isCorrect: false },
                    { text: "å¤§åœ“(æ·±åº¦) åŒ… ä¸­åœ“(æ©Ÿå™¨) åŒ… å°åœ“(AI)", isCorrect: false }
                ],
                desc: "è§£æï¼šæ ¹æ“šå±¤æ¬¡é—œä¿‚ï¼šäººå·¥æ™ºæ…§ > æ©Ÿå™¨å­¸ç¿’ > æ·±åº¦å­¸ç¿’ï¼Œæ‡‰ç‚ºåŒå¿ƒåœ“åŒ…å«é—œä¿‚ã€‚"
            },

            // --- ç¬¬äº”æ‹›ï¼šé‚è¼¯æ¨è«– ---
            {
                id: 13, move: "é‚è¼¯æ¨è«–", color: "bg-purple-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘ã€Œå›å­å¦‚æŠ±ç¾ç‰è€Œæ·±è—ä¸å¸‚ï¼Œå°äººå‰‡ä»¥çŸ³ç‚ºç‰è€Œåˆç‚«ä¹‹ã€‚ã€å›å­ä¸åŒæ–¼å°äººçš„ç‰¹è³ªæ˜¯ï¼Ÿ",
                options: [
                    { text: "è‡¨è²¡ä¸è‹Ÿ", isCorrect: false },
                    { text: "è¦‹å¤šè­˜å»£", isCorrect: false },
                    { text: "æ²‰æ½›å«è“„", isCorrect: true },
                    { text: "çœŸå¯¦å¦ç‡", isCorrect: false }
                ],
                desc: "è§£æï¼šã€Œæ·±è—ä¸å¸‚ã€å°æ¯”ã€Œç‚«ä¹‹ã€ï¼Œå¼·èª¿å›å­ä¸éš¨æ„ç‚«è€€ï¼Œå…·æœ‰ã€Œæ²‰æ½›å«è“„ã€çš„ç‰¹è³ªã€‚"
            },
            {
                id: 14, move: "é‚è¼¯æ¨è«–", color: "bg-purple-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘æ–°è©©ï¼šã€Œæˆ‘çš„å¿«æ¨‚é™¤ä»¥æˆ‘çš„æ‚²å‚· / å¾—åˆ°çš„å•† / å»åªæ˜¯1ã€ã€‚é€™é¦–è©©æš—ç¤ºï¼Ÿ",
                options: [
                    { text: "æ‚²å‚·æœƒéå»ï¼Œå¿«æ¨‚æœƒç•™ä¸‹", isCorrect: false },
                    { text: "æˆ‘çš„å¿«æ¨‚ç­‰åŒæ–¼æˆ‘çš„æ‚²å‚·", isCorrect: true },
                    { text: "é™¤äº†æ‚²å‚·ä¹‹å¤–ï¼Œæˆ‘ä¸€ç„¡æ‰€æœ‰", isCorrect: false },
                    { text: "æ¯å€‹äººçš„æ„›æƒ…éƒ½åªæœ‰ä¸€ç¨®çµæœ", isCorrect: false }
                ],
                desc: "è§£æï¼šæ•¸å­¸é‚è¼¯æ¨è«–ï¼šè‹¥ A Ã· B = 1ï¼Œå‰‡ A = Bã€‚æ•…å¿«æ¨‚=æ‚²å‚·ã€‚"
            },
            {
                id: 15, move: "é‚è¼¯æ¨è«–", color: "bg-purple-600",
                text: "ã€æœƒè€ƒçœŸé¡Œã€‘å¿ƒç†å­¸å®¶è®“Açµ„äººçœ‹ç…§ç‰‡èªªæ˜¯ç½ªçŠ¯(è¦ºå…‡æƒ¡)ï¼ŒBçµ„çœ‹åŒå¼µç…§ç‰‡èªªæ˜¯ç§‘å­¸å®¶(è¦ºæ·±é‚ƒ)ã€‚é€™å°è­‰ï¼Ÿ",
                options: [
                    { text: "å…ˆå…¥ç‚ºä¸»çš„æˆè¦‹ï¼Œå¸¸æœƒå½±éŸ¿åˆ¤æ–·", isCorrect: true },
                    { text: "åšä»»ä½•äº‹éƒ½è¦æœ‰æ±ºå¿ƒèˆ‡é¬¥å¿—", isCorrect: false },
                    { text: "çœ‹äº‹æƒ…çš„è§’åº¦å› äººè€Œç•°ï¼Œç„¡çµ•å°", isCorrect: false },
                    { text: "çœ¼è¦‹ç‚ºæ†‘æ˜¯ç§‘å­¸ç ”ç©¶çš„åŸºç¤", isCorrect: false }
                ],
                desc: "è§£æï¼šåŒæ¨£çš„ç…§ç‰‡å› ã€Œæ¨™ç±¤ã€ä¸åŒè€Œç”¢ç”Ÿä¸åŒè§£è®€ï¼Œé€™æ˜¯ã€Œæˆè¦‹ã€çš„å½±éŸ¿ã€‚"
            }
        ];

        function App() {
            const [gameState, setGameState] = useState("start");
            const [qIndex, setQIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [hp, setHp] = useState(3);
            const [showFeedback, setShowFeedback] = useState(false);
            const [isCorrect, setIsCorrect] = useState(false);
            const [shaking, setShaking] = useState(false);

            useEffect(() => {
                if (gameState === "start") {
                    setScore(0);
                    setHp(3);
                    setQIndex(0);
                    setShowFeedback(false);
                }
            }, [gameState]);

            const nextQ = () => {
                setShowFeedback(false);
                if (hp <= 0 || qIndex >= allQuestions.length - 1) {
                    setGameState("result");
                } else {
                    setQIndex(prev => prev + 1);
                }
            };

            const handleAnswer = (correct) => {
                setIsCorrect(correct);
                setShowFeedback(true);
                if (correct) {
                    setScore(prev => prev + 1);
                } else {
                    setHp(prev => prev - 1);
                    setShaking(true);
                    setTimeout(() => setShaking(false), 500);
                }
            };

            const restart = () => {
                setGameState("start");
            };

            if (gameState === "start") {
                return (
                    <div className="flex flex-col items-center justify-center min-h-screen p-6 text-center space-y-8 bg-slate-900">
                        <div className="text-6xl mb-4">ğŸ“œ</div>
                        <h1 className="text-4xl font-bold text-yellow-400 mb-2">æœƒè€ƒäº”æ‹›ï¼šå®—å¸«ä¹‹è·¯</h1>
                        <p className="text-gray-400 max-w-md">æŒæ¡ã€Œå½¢éŸ³ã€æˆèªã€æ–‡æ„ã€åœ–è¡¨ã€é‚è¼¯ã€äº”å¤§çµ•æ‹›ï¼ŒæŒ‘æˆ°15é“æ­·å±†æœƒè€ƒçœŸé¡Œï¼</p>
                        <div className="bg-slate-800 p-4 rounded-lg text-left text-sm text-gray-300 space-y-2 border border-slate-700">
                            <p>âš”ï¸ <span className="text-yellow-400">ç¸½é—œå¡ï¼š</span> 15 å›åˆ (æ¯æ‹›3é¡Œ)</p>
                            <p>â¤ï¸ <span className="text-red-400">ç”Ÿå‘½å€¼ï¼š</span> 3 é¡†å¿ƒ (ç­”éŒ¯æ‰£è¡€)</p>
                            <p>ğŸ’¡ <span className="text-green-400">é€šé—œæ¢ä»¶ï¼š</span> æ´»è‘—èµ°åˆ°æœ€å¾Œ</p>
                        </div>
                        <button onClick={() => setGameState("game")} className="bg-yellow-600 hover:bg-yellow-500 text-white text-xl font-bold py-4 px-12 rounded-full shadow-lg transition-transform transform active:scale-95">é–‹å§‹ä¿®ç…‰</button>
                    </div>
                );
            }

            if (gameState === "game") {
                const currentQ = allQuestions[qIndex];
                return (
                    <div className={`flex flex-col items-center min-h-screen p-4 max-w-2xl mx-auto ${shaking ? 'shake' : ''}`}>
                        <div className="w-full flex justify-between items-center mb-6 bg-slate-800 p-3 rounded-lg border border-slate-700">
                            <div className="text-yellow-400 font-bold">ç¬¬ {qIndex + 1} / {allQuestions.length} é¡Œ</div>
                            <div className="text-red-400 font-bold text-xl">{"â¤ï¸".repeat(hp)}{"ğŸ–¤".repeat(3-hp)}</div>
                        </div>
                        <div className="w-full mb-2 fade-in">
                            <span className={`text-xs font-bold px-2 py-1 rounded text-white mr-2 ${currentQ.color}`}>{currentQ.move}</span>
                        </div>
                        <div className="w-full bg-slate-800 p-6 rounded-xl shadow-2xl border border-slate-600 mb-6 relative overflow-hidden">
                            <h2 className="text-xl font-bold leading-relaxed mt-2">{currentQ.text}</h2>
                        </div>
                        <div className="w-full space-y-3">
                            {currentQ.options.map((opt, i) => (
                                <button key={i} onClick={() => !showFeedback && handleAnswer(opt.isCorrect)} disabled={showFeedback} className={`btn-option w-full p-4 rounded-lg text-left text-lg font-medium border-2 ${showFeedback ? (opt.isCorrect ? "bg-green-600 border-green-400 text-white" : "bg-slate-700 border-slate-700 text-gray-500") : "bg-slate-700 border-slate-600 hover:bg-slate-600 text-gray-200 hover:border-yellow-500"}`}>
                                    <span className="inline-block w-6 h-6 rounded-full bg-slate-900 text-center text-sm leading-6 mr-3 text-gray-400">{['A','B','C','D'][i]}</span>
                                    {opt.text}
                                </button>
                            ))}
                        </div>
                        {showFeedback && (
                            <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-6 fade-in backdrop-blur-sm">
                                <div className="bg-slate-800 p-6 rounded-2xl max-w-md w-full border-2 border-slate-600 shadow-2xl">
                                    <div className={`text-4xl text-center mb-4 ${isCorrect ? 'text-green-400' : 'text-red-400'}`}>
                                        {isCorrect ? "âœ¨ ç­”å°äº†ï¼" : "ğŸ’¥ ç­”éŒ¯äº†..."}
                                    </div>
                                    <div className="text-gray-300 text-lg leading-relaxed mb-6 bg-slate-900 p-4 rounded-lg">
                                        <span className="text-yellow-400 font-bold">è§£æï¼š</span>{currentQ.desc}
                                    </div>
                                    <button onClick={nextQ} className="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition-colors">
                                        {hp <= 0 ? "æŸ¥çœ‹çµæœ" : (qIndex >= allQuestions.length - 1 ? "å®Œæˆè©¦ç…‰" : "ä¸‹ä¸€é¡Œ â”")}
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                );
            }

            if (gameState === "result") {
                const passed = hp > 0;
                return (
                    <div className="flex flex-col items-center justify-center min-h-screen p-6 text-center space-y-6 bg-slate-900 fade-in">
                        <div className="text-8xl mb-2">{passed ? "ğŸ†" : "ğŸ¥€"}</div>
                        <h2 className="text-4xl font-bold text-white">{passed ? "è©¦ç…‰é€šéï¼" : "ä¿®ç…‰æœªæˆ"}</h2>
                        <div className="text-2xl text-yellow-400 font-bold">å¾—åˆ†ï¼š{score} / 15</div>
                        <p className="text-gray-400 max-w-md">{passed ? "æ­å–œä½ ï¼ä½ å·²ç¶“æŒæ¡äº†æœƒè€ƒåœ‹æ–‡çš„äº”å¤§æ ¸å¿ƒçµ•æ‹›ï¼" : "åˆ¥æ°£é¤’ï¼è¨˜ä½ã€Œæ‰¾è½‰æŠ˜ã€çœ‹åœ–è¡¨ã€æŠ“é‡é»ã€ï¼Œå†ä¾†æŒ‘æˆ°ä¸€æ¬¡ï¼"}</p>
                        <button onClick={restart} className="bg-slate-700 hover:bg-slate-600 text-white text-lg font-bold py-3 px-10 rounded-full border border-slate-500">å†æ¬¡æŒ‘æˆ°</button>
                    </div>
                );
            }
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
